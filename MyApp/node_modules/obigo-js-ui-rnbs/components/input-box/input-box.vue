<template>
  <div class="obg-input-box">
    <input
      ref="inputBox"
      @change="onChange"
      @input="onInput"
      @blur="onBlur"
      @focus="onFocus"
      :placeholder="placeholder"
      :value="value"
    >
    <div class="search-button" @click="onClickButton">
      <!--<i class="obg-icon-search"></i>-->
      <svg width="28px" height="27px" viewBox="0 0 28 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <defs></defs>
        <g id="list" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-540.000000, -75.000000)">
          <g id="magnifier---simple-line-icons---group-copy-5" transform="translate(541.000000, 76.000000)" fill="#FFFFFF" stroke="#FFFFFF">
            <path d="M25.7721519,23.6572266 L17.8987342,16.015625 C18.6244762,15.1692666 19.1983101,14.2130587 19.6202532,13.1469727 C20.0421962,12.0808866 20.2531646,10.953782 20.2531646,9.765625 C20.2531646,8.41470679 19.9873444,7.14518823 19.4556962,5.95703125 C18.924048,4.76887427 18.1983168,3.73535596 17.278481,2.85644531 C16.3586452,1.97753467 15.2827066,1.28174084 14.0506329,0.769042969 C12.8185592,0.256345093 11.5105554,0 10.1265823,0 C8.72573139,0 7.40928886,0.256345093 6.17721519,0.769042969 C4.94514152,1.28174084 3.86920291,1.97753467 2.94936709,2.85644531 C2.02953127,3.73535596 1.30801949,4.76887427 0.784810127,5.95703125 C0.261600759,7.14518823 0,8.41470679 0,9.765625 C0,11.1165432 0.261600759,12.3860618 0.784810127,13.5742188 C1.30801949,14.7623757 2.02953127,15.795894 2.94936709,16.6748047 C3.86920291,17.5537153 4.94514152,18.2495092 6.17721519,18.762207 C7.40928886,19.2749049 8.72573139,19.53125 10.1265823,19.53125 C11.3924114,19.53125 12.5907116,19.3196636 13.721519,18.8964844 C14.8523263,18.4733052 15.8649744,17.8873735 16.7594937,17.1386719 L24.6075949,24.7558594 C24.7763722,24.9186206 24.970463,25 25.1898734,25 C25.4092838,25 25.6033747,24.9186206 25.7721519,24.7558594 C25.9240514,24.6093743 26,24.4262706 26,24.206543 C26,23.9868153 25.9240514,23.8037117 25.7721519,23.6572266 Z M10.1265823,17.9931641 C8.94514177,17.9931641 7.83544823,17.7775087 6.79746835,17.3461914 C5.75948848,16.9148741 4.85654392,16.3248735 4.08860759,15.5761719 C3.32067127,14.8274702 2.71308241,13.9567107 2.26582278,12.9638672 C1.81856316,11.9710237 1.59493671,10.9049536 1.59493671,9.765625 C1.59493671,8.62629639 1.81856316,7.56022632 2.26582278,6.56738281 C2.71308241,5.57453931 3.32067127,4.70377979 4.08860759,3.95507813 C4.85654392,3.20637646 5.75948848,2.61637585 6.79746835,2.18505859 C7.83544823,1.75374133 8.94514177,1.53808594 10.1265823,1.53808594 C11.2911451,1.53808594 12.3923999,1.75374133 13.4303797,2.18505859 C14.4683596,2.61637585 15.3713042,3.20637646 16.1392405,3.95507813 C16.9071768,4.70377979 17.5147657,5.57453931 17.9620253,6.56738281 C18.4092849,7.56022632 18.6329114,8.62629639 18.6329114,9.765625 C18.6329114,10.9049536 18.4092849,11.9710237 17.9620253,12.9638672 C17.5147657,13.9567107 16.9071768,14.8274702 16.1392405,15.5761719 C15.3713042,16.3248735 14.4683596,16.9148741 13.4303797,17.3461914 C12.3923999,17.7775087 11.2911451,17.9931641 10.1265823,17.9931641 Z" id="magnifier---simple-line-icons"></path>
          </g>
        </g>
      </svg>
    </div>
  </div>
</template>

<script>
  /**
   * @see Renault, Nissan
   * @class input-box
   * @classdesc components/input-box
   * @param {boolean} [disabled=false]
   * @param {number} [width=100]
   * @param {string} [type=text]
   * @param {string} [placeholder=Search]
   * @param {string} [value=val]
   *
   * @example
   *  <obg-input-box :width="100">
   *  </obg-input-box>
   */
  export default {
    name: 'obg-input-box',
    props: {
      disabled: {
        type: Boolean,
        default: false
      },
      width: {
        type: Number,
        default: 100
      },
      type: {
        type: String,
        default: 'text'
      },
      placeholder: {
        type: String,
        default: 'Search'
      },
      value: {
        type: String,
        default: 'val'
      }
    },
    mounted () {
      this.$input = this.$refs.inputBox
    },
    methods: {
      onChange (val) { this.$emit('change', val) },
      onInput (val) { this.$emit('input', val) },
      onBlur (e) { this.$emit('blur', e) },
      onFocus (e) { this.$emit('focus', e) },
      onClickButton () {
        const val = this.$refs.inputBox.value
        this.$emit('search', val)
      }
    }
  }
</script>
<style lang="scss" scoped>

</style>
