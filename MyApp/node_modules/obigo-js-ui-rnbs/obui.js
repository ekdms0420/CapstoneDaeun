/*! obigo-js-ui v1.0.31 (https://) Licensed under the GPL license */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ObigoUI=t():e.ObigoUI=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=150)}([,function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var o=n(41)("wks"),i=n(28),r=n(2).Symbol,s="function"==typeof r;(e.exports=function(e){return o[e]||(o[e]=s&&r[e]||(s?r:i)("Symbol."+e))}).store=o},function(e,t,n){var o=n(2),i=n(1),r=n(11),s=n(10),u=n(13),a=function(e,t,n){var c,d,l,f=e&a.F,h=e&a.G,p=e&a.S,v=e&a.P,_=e&a.B,y=e&a.W,m=h?i:i[t]||(i[t]={}),g=m.prototype,b=h?o:p?o[t]:(o[t]||{}).prototype;h&&(n=t);for(c in n)(d=!f&&b&&void 0!==b[c])&&u(m,c)||(l=d?b[c]:n[c],m[c]=h&&"function"!=typeof b[c]?n[c]:_&&d?r(l,o):y&&b[c]==l?function(e){var t=function(t,n,o){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,o)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):v&&"function"==typeof l?r(Function.call,l):l,v&&((m.virtual||(m.virtual={}))[c]=l,e&a.R&&g&&!g[c]&&s(g,c,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,e.exports=a},function(e,t,n){var o=n(9),i=n(57),r=n(34),s=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function o(e){return i||(i=new e,window.obigoUI.$events=i),i}Object.defineProperty(t,"__esModule",{value:!0}),t.install=o;var i=void 0;t.default={$on:function(){var e;i||(i=window.obigoUI.$events),i&&(e=i).$on.apply(e,arguments)},$once:function(){var e;i||(i=window.obigoUI.$events),i&&(e=i).$once.apply(e,arguments)},$emit:function(){var e;i||(i=window.obigoUI.$events),i&&(e=i).$emit.apply(e,arguments)},$off:function(){var e;i||(i=window.obigoUI.$events),i&&(e=i).$off.apply(e,arguments)}}},function(e,t,n){var o=n(6);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var o=n(5),i=n(25);e.exports=n(7)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(17);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,i){return e.call(t,n,o,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var o=n(83),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,i.default)(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}()},function(e,t,n){var o=n(39),i=n(36);e.exports=function(e){return o(i(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(87),r=o(i),s=n(63),u=o(s),a="function"==typeof u.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":typeof e};t.default="function"==typeof u.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof u.default&&e.constructor===u.default&&e!==u.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t){e.exports=!0},function(e,t){e.exports={}},function(e,t,n){var o=n(60),i=n(42);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var o=n(5).f,i=n(13),r=n(3)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},function(e,t,n){var o=n(11),i=n(77),r=n(78),s=n(9),u=n(31),a=n(68),c={},d={},t=e.exports=function(e,t,n,l,f){var h,p,v,_,y=f?function(){return e}:a(e),m=o(n,l,t?2:1),g=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(r(y)){for(h=u(e.length);h>g;g++)if((_=t?m(s(p=e[g])[0],p[1]):m(e[g]))===c||_===d)return _}else for(v=y.call(e);!(p=v.next()).done;)if((_=i(v,m,p.value,t))===c||_===d)return _};t.BREAK=c,t.RETURN=d},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(36);e.exports=function(e){return Object(o(e))}},function(e,t,n){"use strict";var o=n(89)(!0);n(37)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=o(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(window.applicationFramework)return window.applicationFramework.applicationManager.getOwnerApplication(window.document)}()},function(e,t,n){var o=n(35),i=Math.min;e.exports=function(e){return e>0?i(o(e),9007199254740991):0}},function(e,t,n){n(95);for(var o=n(2),i=n(10),r=n(20),s=n(3)("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<u.length;a++){var c=u[a],d=o[c],l=d&&d.prototype;l&&!l[s]&&i(l,s,c),r[c]=r.Array}},function(e,t,n){var o=n(6),i=n(2).document,r=o(i)&&o(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},function(e,t,n){var o=n(6);e.exports=function(e,t){if(!o(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!o(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!o(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";var o=n(19),i=n(4),r=n(59),s=n(10),u=n(20),a=n(90),c=n(23),d=n(94),l=n(3)("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,p,v,_,y){a(n,t,p);var m,g,b,E=function(e){if(!f&&e in T)return T[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",O="values"==v,w=!1,T=e.prototype,R=T[l]||T["@@iterator"]||v&&T[v],M=R||E(v),F=v?O?E("entries"):M:void 0,S="Array"==t?T.entries||R:R;if(S&&(b=d(S.call(new e)))!==Object.prototype&&b.next&&(c(b,k,!0),o||"function"==typeof b[l]||s(b,l,h)),O&&R&&"values"!==R.name&&(w=!0,M=function(){return R.call(this)}),o&&!y||!f&&!w&&T[l]||s(T,l,M),u[t]=M,u[k]=h,v)if(m={values:O?M:E("values"),keys:_?M:E("keys"),entries:F},y)for(g in m)g in T||r(T,g,m[g]);else i(i.P+i.F*(f||w),t,m);return m}},function(e,t,n){var o=n(9),i=n(91),r=n(42),s=n(40)("IE_PROTO"),u=function(){},a=function(){var e,t=n(33)("iframe"),o=r.length;for(t.style.display="none",n(61).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),a=e.F;o--;)delete a.prototype[r[o]];return a()};e.exports=Object.create||function(e,t){var n;return null!==e?(u.prototype=o(e),n=new u,u.prototype=null,n[s]=e):n=a(),void 0===t?n:i(n,t)}},function(e,t,n){var o=n(22);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},function(e,t,n){var o=n(41)("keys"),i=n(28);e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var o=n(1),i=n(2),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(19)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){t.f=n(3)},function(e,t,n){var o=n(28)("meta"),i=n(6),r=n(13),s=n(5).f,u=0,a=Object.isExtensible||function(){return!0},c=!n(12)(function(){return a(Object.preventExtensions({}))}),d=function(e){s(e,o,{value:{i:"O"+ ++u,w:{}}})},l=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,o)){if(!a(e))return"F";if(!t)return"E";d(e)}return e[o].i},f=function(e,t){if(!r(e,o)){if(!a(e))return!0;if(!t)return!1;d(e)}return e[o].w},h=function(e){return c&&p.NEED&&a(e)&&!r(e,o)&&d(e),e},p=e.exports={KEY:o,NEED:!1,fastKey:l,getWeak:f,onFreeze:h}},function(e,t,n){var o=n(2),i=n(1),r=n(19),s=n(43),u=n(5).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=r?{}:o.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:s.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){},function(e,t,n){"use strict";function o(e){return e||window.event}function i(e){var t=void 0,n=void 0;return e=o(e),e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]&&(e=e.changedTouches[0]),e.clientX||e.clientY?(t=e.clientX,n=e.clientY):(e.pageX||e.pageY)&&(t=e.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,n=e.pageY-document.body.scrollTop-document.documentElement.scrollTop),{top:n,left:t}}function r(e){var t=void 0;return e=o(e),e.target?t=e.target:e.srcElement&&(t=e.srcElement),t}function s(e){return e=o(e),Math.max(-1,Math.min(1,e.wheelDelta||-e.detail))}function u(){var e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});window.dispatchEvent(e)}function a(){try{return new e("test"),!1}catch(e){}var e=function(e,t){t=t||{bubbles:!1,cancelable:!1};var n=document.createEvent("MouseEvent");return n.initMouseEvent(e,t.bubbles,t.cancelable,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n};e.prototype=Event.prototype,window.MouseEvent=e}Object.defineProperty(t,"__esModule",{value:!0}),t.position=i,t.targetElement=r,t.getMouseWheelDirection=s,t.triggerBodyClickEvent=u,t.mouseEventPolyfill=a},function(e,t,n){var o=n(22),i=n(3)("toStringTag"),r="Arguments"==o(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,u;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:r?o(t):"Object"==(u=o(t))&&"function"==typeof t.callee?"Arguments":u}},function(e,t){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";function o(e){var t,n;this.promise=new e(function(e,o){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=o}),this.resolve=i(t),this.reject=i(n)}var i=n(17);e.exports.f=function(e){return new o(e)}},function(e,t,n){var o=n(10);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:o(e,i,t[i]);return e}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getHardkeyInstance=t.hardkeyCode=void 0;var i=n(14),r=o(i),s=n(15),u=o(s),a=n(63),c=o(a),d=n(30),l=o(d),f=n(8),h=o(f),p={HARDKEY_TYPE_NONE:1e3,HARDKEY_BUTTON_HOME:1001,HARDKEY_BUTTON_BACK:1002,HARDKEY_ROTARY_ROTATE:2001,HARDKEY_ROTARY_ENTER:2002,HARDKEY_ROTARY_LEFT:2003,HARDKEY_ROTARY_RIGHT:2004,HARDKEY_ROTARY_UP:2005,HARDKEY_ROTARY_DOWN:2006},v={HARDKEY_MODE_NONE:0,HARDKEY_MODE_PRESS:1,HARDKEY_MODE_LONG_PRESS:2,HARDKEY_MODE_RELEASE:3,HARDKEY_MODE_LEFT:4,HARDKEY_MODE_RIGHT:5},_=t.hardkeyCode=function(){return window.applicationFramework||(p={HARDKEY_TYPE_NONE:1e3,HARDKEY_BUTTON_HOME:104,HARDKEY_BUTTON_BACK:98,HARDKEY_ROTARY_ROTATE:113,HARDKEY_ROTARY_ENTER:114,HARDKEY_ROTARY_LEFT:97,HARDKEY_ROTARY_RIGHT:100,HARDKEY_ROTARY_UP:119,HARDKEY_ROTARY_DOWN:115}),{code:p,mode:v}}(),y=(0,c.default)(),m=(0,c.default)(),g=function(){function e(t){if((0,r.default)(this,e),t!==m)throw new Error("Cannot construct singleton");this.appManager=l.default,this._bind(),this._hardKeyListener=[]}return(0,u.default)(e,[{key:"_bind",value:function(){this.appManager?window.addEventListener("hardkey",this._handleEvent.bind(this)):document.addEventListener("keypress",this._handleEvent.bind(this))}},{key:"_handleEvent",value:function(e){var t=void 0!==e.hardkeyType?e.hardkeyType:"Q"===e.key|"q"===e.key?113:e.key.charCodeAt(0),n=void 0!==e.hardkeyMode?e.hardkeyMode:["w","r","a","s","d"].includes(e.key)?_.mode.HARDKEY_MODE_RELEASE:e.shiftKey?_.mode.HARDKEY_MODE_LEFT:_.mode.HARDKEY_MODE_RIGHT,o=e.hardkeyTick;(window.hardkeyEventObj=e.hardkeyType?e:{notProcessedCount:function(){}},window.hardkeyEventObj.code=t,window.hardkeyEventObj.mode=n,[_.mode.HARDKEY_MODE_RELEASE,_.mode.HARDKEY_MODE_RIGHT,_.mode.HARDKEY_MODE_LEFT].indexOf(n)<0&&t!==_.code.HARDKEY_ROTARY_ENTER)||(this._findKeyCode(t).forEach(function(e){e.cb({code:t,mode:n,tick:o})}),this._emitArrowKeyEvent(e))}},{key:"addHardkeyListener",value:function(e,t){this._hardKeyListener.push({type:e,cb:t})}},{key:"removeHardkeyListener",value:function(e,t){this._hardKeyListener=this._hardKeyListener.filter(function(n){return!(n.cb===t&&n.type===e)})}},{key:"_findKeyCode",value:function(e){return this._hardKeyListener.filter(function(t){return t.type===e})}},{key:"getCodes",value:function(){return _}},{key:"sendRemainTick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;window.hardkeyEventObj.notProcessedCount(window.hardkeyEventObj.code,window.hardkeyEventObj.mode,e)}},{key:"_emitArrowKeyEvent",value:function(e){switch(e.hardkeyType){case _.code.HARDKEY_ROTARY_LEFT:h.default.$emit("csw:left",e);break;case _.code.HARDKEY_ROTARY_RIGHT:h.default.$emit("csw:right",e);break;case _.code.HARDKEY_ROTARY_UP:h.default.$emit("csw:up",e);break;case _.code.HARDKEY_ROTARY_DOWN:h.default.$emit("csw:down",e)}}}],[{key:"instance",get:function(){return this[y]||(this[y]=new e(m)),this[y]}}]),e}();t.getHardkeyInstance=function(){return g.instance}},,,,function(e,t,n){e.exports=!n(7)&&!n(12)(function(){return 7!=Object.defineProperty(n(33)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(86),s=i(r),u=n(76),a=o(u),c=n(107),d=i(c),l=n(48),f=o(l),h=n(108),p=o(h),v=n(67),_=i(v),y=n(109),m=i(y);t.default={dom:a,loglevel:s.default,time:d.default,event:f,store:p,uid:_.default,ajax:m.default}},function(e,t,n){e.exports=n(10)},function(e,t,n){var o=n(13),i=n(16),r=n(92)(!1),s=n(40)("IE_PROTO");e.exports=function(e,t){var n,u=i(e),a=0,c=[];for(n in u)n!=s&&o(u,n)&&c.push(n);for(;t.length>a;)o(u,n=t[a++])&&(~r(c,n)||c.push(n));return c}},function(e,t,n){var o=n(2).document;e.exports=o&&o.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(97),__esModule:!0}},function(e,t,n){var o=n(22);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){var o=n(60),i=n(42).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},function(e,t,n){e.exports={default:n(104),__esModule:!0}},function(e,t,n){"use strict";function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()}},function(e,t,n){var o=n(49),i=n(3)("iterator"),r=n(20);e.exports=n(1).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||r[o(e)]}},function(e,t,n){var o=n(9),i=n(17),r=n(3)("species");e.exports=function(e,t){var n,s=o(e).constructor;return void 0===s||void 0==(n=o(s)[r])?t:i(n)}},function(e,t,n){var o,i,r,s=n(11),u=n(115),a=n(61),c=n(33),d=n(2),l=d.process,f=d.setImmediate,h=d.clearImmediate,p=d.MessageChannel,v=d.Dispatch,_=0,y={},m=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},g=function(e){m.call(e.data)};f&&h||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++_]=function(){u("function"==typeof e?e:Function(e),t)},o(_),_},h=function(e){delete y[e]},"process"==n(22)(l)?o=function(e){l.nextTick(s(m,e,1))}:v&&v.now?o=function(e){v.now(s(m,e,1))}:p?(i=new p,r=i.port2,i.port1.onmessage=g,o=s(r.postMessage,r,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(o=function(e){d.postMessage(e+"","*")},d.addEventListener("message",g,!1)):o="onreadystatechange"in c("script")?function(e){a.appendChild(c("script")).onreadystatechange=function(){a.removeChild(this),m.call(e)}}:function(e){setTimeout(s(m,e,1),0)}),e.exports={set:f,clear:h}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var o=n(9),i=n(6),r=n(51);e.exports=function(e,t){if(o(e),i(t)&&t.constructor===e)return t;var n=r.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var o=n(2),i=n(1),r=n(5),s=n(7),u=n(3)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:o[e];s&&t&&!t[u]&&r.f(t,u,{configurable:!0,get:function(){return this}})}},function(e,t,n){var o=n(6);e.exports=function(e,t){if(!o(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},,function(e,t,n){"use strict";function o(e){if(e===window)return{top:0,left:0};var t=e.getBoundingClientRect();return{top:t.top,left:t.left}}function i(e,t){return window.getComputedStyle(e).getPropertyValue(t)}function r(e){return e===window?a().height:parseFloat(window.getComputedStyle(e).getPropertyValue("height"),10)}function s(e){return e===window?a().width:parseFloat(window.getComputedStyle(e).getPropertyValue("width"),10)}function u(e,t){var n=e.style;(0,v.default)(t).forEach(function(e){n[e]=t[e]})}function a(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}function c(e){if("function"==typeof e)return"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)}function d(e){var t={transform:e};return _.forEach(function(n){t[n+"transform"]=e}),t}function l(e,t){var n=[];e=e.parentNode.firstChild;do{t&&!t(e)||n.push(e)}while(e=e.nextSibling);return n}function f(e,t){for(var n=[];e=e.nextSibling;)t&&!t(e)||n.push(e);return n}function h(e,t){for(var n=[];e=e.previousSibling;)t&&!t(e)||n.push(e);return n}Object.defineProperty(t,"__esModule",{value:!0});var p=n(66),v=function(e){return e&&e.__esModule?e:{default:e}}(p);t.offset=o,t.style=i,t.height=r,t.width=s,t.css=u,t.viewport=a,t.ready=c,t.cssTransform=d,t.getSiblings=l,t.getNextSiblings=f,t.getPreviousSiblings=h;var _=["-webkit-","-moz-","-ms-","-o-"]},function(e,t,n){var o=n(9);e.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&o(r.call(e)),t}}},function(e,t,n){var o=n(20),i=n(3)("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||r[i]===e)}},function(e,t,n){var o=n(3)("iterator"),i=!1;try{var r=[7][o]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r=[7],s=r[o]();s.next=function(){return{done:n=!0}},r[o]=function(){return s},e(r)}catch(e){}return n}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return m=(0,h.getHardkeyInstance)(),b._bind(),e.prototype.$focus=b,e.prototype.$hardkey=m,b}Object.defineProperty(t,"__esModule",{value:!0}),t.focusInstance=void 0;var r=n(81),s=o(r),u=n(14),a=o(u),c=n(15),d=o(c);t.install=i;var l=n(30),f=o(l),h=n(53),p=n(8),v=o(p),_={GADGET:"gadget",WIDGET:"widget"},y={NONE:"none",CONTEXT:"context"},m=null,g=function(){function e(){(0,a.default)(this,e),this.appManager=f.default,this._focusMap=new s.default,this._lastFocusMap=new s.default,this._subSectionMap=new s.default,this._tabMap=new s.default,this._binded=!1,this._currentScene=0,this._currentZone=2,this._currentOrder=0,this._currentTabNumber=0,this._Loop=!0,this._zoneFocusMode=!1,this._componentFocusMode=!1,this._componentControlMode=!1,this._focusOnSubSection=!1,this._tabFocusMode=!1,this._hardkeyCode=1e3,this._hardkeyMode=0,this._appType=_.WIDGET,this._popupType=y.NONE,this._popupZoneStyle={},this._$focusZoneEle=null,this._onBodyClickListener=this._onBodyClickListener.bind(this),this.prevZone=this.prevZone.bind(this),this.nextZone=this.nextZone.bind(this),this._onRotaryLeftRight=this._onRotaryLeftRight.bind(this),this._onRotaryUpDown=this._onRotaryUpDown.bind(this),this._handleRotateClick=this._handleRotateClick.bind(this),this._handleRotateEnter=this._handleRotateEnter.bind(this),this.exitFocusMode=this.exitFocusMode.bind(this),this._handleRotate=this._handleRotate.bind(this),this._handleWheelEvent=this._handleWheelEvent.bind(this),this._getSubSection=this._getSubSection.bind(this),this._onRotaryUpDown=this._onRotaryUpDown.bind(this)}return(0,d.default)(e,[{key:"_bind",value:function(){var e=this;this._binded||(this._binded=!0,m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_UP,this._onRotaryUpDown),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_DOWN,this._onRotaryUpDown),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_LEFT,this._onRotaryLeftRight),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_RIGHT,this._onRotaryLeftRight),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ENTER,this._handleRotateClick),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ENTER,this._handleRotateEnter),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_BUTTON_HOME,this.exitFocusMode),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_BUTTON_BACK,this.exitFocusMode),this.appManager?(m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ROTATE,this._handleRotate),this._appType=2===this.appManager.type?_.GADGET:_.WIDGET):m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ROTATE,this._handleWheelEvent),v.default.$on("scene:update",function(t){e.setScene(t)}),v.default.$on("popup:show",function(t){if(t.el){e._setZoneFocusOff(),e._setComponentFocusOff();var n=t.el.getBoundingClientRect();e._popupType=t.type,e._popupZoneStyle={height:n.height,width:n.width,left:n.left,top:n.top},e._lastFocusMap.set(t.type,t.prevFocusPosition),(e._zoneFocusMode||e._componentFocusMode)&&(e.startFocusMode(),window.removeEventListener("click",e._onBodyClickListener))}}),v.default.$on("popup:hide",function(t){if(e._setZoneFocusOff(),e._setComponentFocusOff(),e._popupType=y.NONE,e._popupZoneStyle={},e._zoneFocusMode||e._componentFocusMode){var n=e._lastFocusMap.get(t.type),o=2===n.zone&&n.order>0&&e._isTargetAvailable(n.scene,n.order)?n.order:-1;e.startFocusMode(!0,o)}}),v.default.$on("list:scrollstart",this.exitFocusMode),v.default.$on("focus:control-get",function(t){e._unbindRotateListener(),e._componentControlMode=!0;var n=e._getCurrentTarget(),o=!1;n&&n.el&&n.el.classList.contains("obg-list-item")&&n.el.querySelector('[data-type="focus-control-able"]')&&(o=!0,n.el.classList.add("has-focus-control-child")),o||setTimeout(e._setComponentFocusOff.bind(e),0)}),v.default.$on("focus:control-loss",function(t){e._bindRotateListener(),e._componentControlMode=!1,e._focusOnSubSection&&(t.touch||e.startFocusMode(!0,e.loadLastFocusPosition("section")),e._focusOnSubSection=!1);var n=e._getCurrentTarget();n&&n.el&&n.el.classList.contains("obg-list-item")&&n.el.classList.contains("has-focus-control-child")&&n.el.classList.remove("has-focus-control-child")}),v.default.$on("tab:update",function(t){if(void 0!==t.tabNumber){console.log("tab mode check");var n=t.tabNumber;if(e._currentTabNumber=n,t.isFocus){var o=e._tabMap.get(n);e.storeLastFocusPosition("tab:last-order",t.lastOrder),o&&o.size>0&&e.startTabFocusMode(n,t.newOrder)}}else(e._componentFocusMode||e._zoneFocusMode)&&(e._setZoneFocusOff(),e._setComponentFocusOff(),t.isFocus?(e._currentZone=3,e._currentOrder=t.currentIndex,e._setZoneFocusOn(3),console.log("[Focus.js] Focus On from tabUpdate"),e._setComponentFocusOn()):e.startFocusMode())}),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_BUTTON_BACK,function(){e._appType===_.GADGET&&e._componentFocusMode&&(e.exitFocusMode(),e._sendRemainTick(1))}),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_BUTTON_HOME,function(){e._componentFocusMode&&(e.exitFocusMode(),e._sendRemainTick(1))}))}},{key:"_bindRotateListener",value:function(){this.appManager?m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ROTATE,this._handleRotate):m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ROTATE,this._handleWheelEvent),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ENTER,this._handleRotateClick),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ENTER,this._handleRotateEnter),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_UP,this._onRotaryUpDown),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_DOWN,this._onRotaryUpDown),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_LEFT,this._onRotaryLeftRight),m.addHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_RIGHT,this._onRotaryLeftRight)}},{key:"_unbindRotateListener",value:function(){this.appManager?m.removeHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ROTATE,this._handleRotate):m.removeHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ROTATE,this._handleWheelEvent),m.removeHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ENTER,this._handleRotateClick),m.removeHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_ENTER,this._handleRotateEnter),m.removeHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_UP,this._onRotaryUpDown),m.removeHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_DOWN,this._onRotaryUpDown),m.removeHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_LEFT,this._onRotaryLeftRight),m.removeHardkeyListener(h.hardkeyCode.code.HARDKEY_ROTARY_RIGHT,this._onRotaryLeftRight)}},{key:"_handleRotate",value:function(e){var t=e.code,n=e.mode,o=e.tick;return this.hardkeyCode=t,this.hardkeyMode=n,0===o?(this.exitFocusMode(),void this._sendRemainTick(0)):this._zoneFocusMode||this._componentFocusMode||this._appType===_.GADGET?this._appType!==_.GADGET||this._zoneFocusMode?this._componentFocusMode?n===h.hardkeyCode.mode.HARDKEY_MODE_RIGHT?void this.nextOrder(o):void this.prevOrder(o):this._appType===_.GADGET?(this.exitFocusMode(),void this._sendRemainTick(1)):void(n===h.hardkeyCode.mode.HARDKEY_MODE_RIGHT?this.nextZone():this.prevZone()):(this._zoneFocusMode=!0,this._setZoneFocusOn(),this._sendRemainTick(1),void window.addEventListener("click",this._onBodyClickListener)):(this.startFocusMode(),void this._sendRemainTick(0))}},{key:"_handleWheelEvent",value:function(e){var t=e.mode;return this._zoneFocusMode||this._componentFocusMode||this._appType===_.GADGET?this._appType!==_.GADGET||this._zoneFocusMode?this._componentFocusMode?t===h.hardkeyCode.mode.HARDKEY_MODE_RIGHT?void this.nextOrder():void this.prevOrder():void(t===h.hardkeyCode.mode.HARDKEY_MODE_RIGHT?this.nextZone({}):this.prevZone({})):(this._zoneFocusMode=!0,this._setZoneFocusOn(),this._sendRemainTick(1),void window.addEventListener("click",this._onBodyClickListener)):(this.startFocusMode(),void this._sendRemainTick(0))}},{key:"_handleRotateClick",value:function(e){var t=e.code,n=void 0===t?1e3:t,o=e.mode,i=void 0===o?0:o;this._hardkeyCode=n,this._hardkeyMode=i;var r=this._currentOrder;if(i===h.hardkeyCode.mode.HARDKEY_MODE_RELEASE){if(!this._zoneFocusMode&&!this._componentFocusMode)return this.startFocusMode(),void this._sendRemainTick(0);if(this._zoneFocusMode)if(this._componentFocusMode){var s=this._getCurrentTarget();if(s){var u=s.el;if(s.vnode&&s.vnode.componentInstance)s.vnode.componentInstance.$emit("click",{view:window,bubbles:!0,cancelable:!1,currentTarget:u,isFocus:!0}),s.vnode.componentInstance.$emit("jog-click",{order:r});else{var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1,currentTarget:u,isFocus:!0,isTrusted:!1});u.dispatchEvent(a);var c=new CustomEvent("jog-click",{detail:{order:r}});u.dispatchEvent(c)}}this._sendRemainTick(0)}else this._currentOrder=this._getClosestFocusableComponent(0),-1===this._currentOrder?(this.exitFocusMode(),this._sendRemainTick(1)):(this._componentFocusMode=!0,console.log("[Focus.js] Focus On from RotateClick"),this._setComponentFocusOn(),this._sendRemainTick(0))}}},{key:"_handleRotateEnter",value:function(e){var t=e.code,n=void 0===t?1e3:t,o=e.mode,i=void 0===o?0:o;if(this._hardkeyCode=n,this._hardkeyMode=i,this._zoneFocusMode&&this._componentFocusMode){var r=this._getCurrentTarget();if(r){var s=r.el;if(s.classList.contains("obg-list-item")){var u=s.classList.contains("active"),a=s.querySelector('[data-type="focus-control-able"]');i!==h.hardkeyCode.mode.HARDKEY_MODE_PRESS||a||u||s.classList.add("active"),i===h.hardkeyCode.mode.HARDKEY_MODE_RELEASE&&u&&s.classList.remove("active")}}}}},{key:"_onBodyClickListener",value:function(){console.log("[Focus.js] Exit focus by body click"),this.exitFocusMode(),this._sendRemainTick(1)}},{key:"_onRotaryLeftRight",value:function(e){var t=e.code,n=void 0===t?1e3:t,o=e.mode,i=void 0===o?0:o;if(this._hardkeyCode=n,this._hardkeyMode=i,this._hardkeyMode===h.hardkeyCode.mode.HARDKEY_MODE_RELEASE){if(this._appType===_.GADGET||this._tabFocusMode)return this.exitFocusMode(),void this._sendRemainTick(1);var r=this._getSubSection(n);if(r)this._focusToSubSection(r);else if(!this._zoneFocusMode&&!this._componentFocusMode&&this._appType!==_.GADGET)return this.startFocusMode(),void this._sendRemainTick(0)}}},{key:"_onRotaryUpDown",value:function(e){var t=e.code,n=void 0===t?1e3:t,o=e.mode,i=void 0===o?0:o;if(this._hardkeyCode=n,this._hardkeyMode=i,this._hardkeyMode===h.hardkeyCode.mode.HARDKEY_MODE_RELEASE){if(this._tabFocusMode)return this.exitFocusMode(),void this._sendRemainTick(1);var r=this._getSubSection(n);r?this._focusToSubSection(r):"up"===this.hardkeyCode?this.prevZone():this.nextZone()}}},{key:"_getSubSection",value:function(e){var t=null;switch(e){case h.hardkeyCode.code.HARDKEY_ROTARY_LEFT:t="left";break;case h.hardkeyCode.code.HARDKEY_ROTARY_RIGHT:t="right";break;case h.hardkeyCode.code.HARDKEY_ROTARY_UP:t="up";break;case h.hardkeyCode.code.HARDKEY_ROTARY_DOWN:t="down"}return this._subSectionMap.get(t)}},{key:"_focusToSubSection",value:function(e){this.storeLastFocusPosition("section",this._currentOrder),this._setComponentFocusOff(),e.vnode.componentInstance.$emit("jog-click"),this._focusOnSubSection=!0}},{key:"_findDefaultComponent",value:function(){var e=this._getCurrentSceneMap(),t=0;if(e)for(var n=e.size;t++<n;){var o=e.get(t);if(o&&o.isFocus)return t}return-1}},{key:"startFocusMode",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;this._setComponentFocusOff(),this._zoneFocusMode=!0,this._currentZone=2;var n=this._findDefaultComponent();this._currentOrder=n>-1?n:t,this._isTargetAvailable(this._currentScene,this._currentOrder)||(this._currentOrder=this._getClosestFocusableComponent(0)),-1===this._currentOrder&&this._popupType===y.NONE&&(this._currentZone=3,this._currentOrder=this._getClosestFocusableComponent(0)),this._setZoneFocusOn(this._currentZone),e&&(this._componentFocusMode=!0,console.log("[Focus.js] Focus On from StartMode"),this._setComponentFocusOn()),window.addEventListener("click",this._onBodyClickListener)}},{key:"startTabFocusMode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._currentTabNumber=e,this._tabFocusMode=!0,this._componentFocusMode=!0,this._currentOrder=t,this._setComponentFocusOn(),window.addEventListener("click",this._onBodyClickListener)}},{key:"exitFocusMode",value:function(){this._setZoneFocusOff(),this._setComponentFocusOff(),this._zoneFocusMode=!1,this._componentControlMode=!1,this._componentFocusMode=!1,this._currentZone=2,this._currentOrder=-1,this._tabFocusMode=!1,window.removeEventListener("click",this._onBodyClickListener),console.log("[Focus.js] [obigo-ui] exit focus mode")}},{key:"_setZoneFocusOn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=2===e?"two":"three",n=0!==document.body.getElementsByClassName("zone-focus").length;this._$focusZoneEle=n?this._$focusZoneEle:document.createElement("div"),this._$focusZoneEle.classList=[],this._$focusZoneEle.classList.add("zone-focus",t,this._appType,this._popupType),this._popupType!==y.NONE&&(this._$focusZoneEle.style.height=this._popupZoneStyle.height+"px",this._$focusZoneEle.style.width=this._popupZoneStyle.width+"px",this._$focusZoneEle.style.top=this._popupZoneStyle.top+"px",this._$focusZoneEle.style.left=this._popupZoneStyle.left+"px"),n||document.body.appendChild(this._$focusZoneEle),v.default.$emit("focus:zone-focus-in")}},{key:"_setZoneFocusOff",value:function(){if(0===document.body.getElementsByClassName("zone-focus").length)return void window.removeEventListener("click",this._onBodyClickListener);document.body.removeChild(this._$focusZoneEle)}},{key:"nextZone",value:function(){return this._appType===_.GADGET?(this.exitFocusMode(),void this._sendRemainTick(1)):this._zoneFocusMode||this._componentFocusMode?(this._setComponentFocusOff(),void(2===this._currentZone&&this._popupType===y.NONE?(this._$focusZoneEle.classList.remove("two"),this._$focusZoneEle.classList.add("three"),this._currentZone+=1,this._componentFocusMode=!0,this._currentOrder=this._getClosestFocusableComponent(0),console.log("[Focus.js] Focus On from NextZone"),this._setComponentFocusOn(),this._sendRemainTick(0)):(this.exitFocusMode(),this._sendRemainTick(1)))):(this.startFocusMode(),void this._sendRemainTick(0))}},{key:"prevZone",value:function(){return this._appType===_.GADGET?(this.exitFocusMode(),void this._sendRemainTick(1)):this._zoneFocusMode||this._componentFocusMode?(this._setComponentFocusOff(),void(3===this._currentZone&&this._popupType===y.NONE?(this._$focusZoneEle.classList.remove("three"),this._$focusZoneEle.classList.add("two"),this._currentZone-=1,this.startFocusMode(),this._sendRemainTick(0)):(this.exitFocusMode(),this._sendRemainTick(1)))):(this.startFocusMode(),void this._sendRemainTick(0))}},{key:"nextOrder",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._tabFocusMode){var e=this._tabMap.get(this._currentTabNumber);this._currentOrder===e.size-1?(this._setComponentFocusOff(),this._tabFocusMode=!1,this._sendRemainTick(0),this._currentOrder=this.loadLastFocusPosition("tab:last-order"),this.startFocusMode(!0,this._currentOrder)):(this._setComponentFocusOff(),this._currentOrder+=1,this._setComponentFocusOn("right"),this._sendRemainTick(0))}else{var t=this._getClosestFocusableComponent(this._currentOrder+1),n=this._getCurrentTarget(),o=n.el.attributes.role&&"tab"===n.el.attributes.role.textContent,i=this._getCurrentSceneMap().size-1;if(o&&t===i&&!this._Loop&&this._currentOrder===t){this._setComponentFocusOff();var r=this._tabMap.get(this._currentTabNumber);if(r&&r.size>0)return this.startTabFocusMode(this._currentTabNumber,0),void this._sendRemainTick(0)}this._setComponentFocusOff(),this._currentOrder=-1===t?this._currentOrder:t,console.log("[Focus.js] Focus on by nextOrder"),this._setComponentFocusOn("right"),this._sendRemainTick(0)}}},{key:"prevOrder",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._tabFocusMode)0===this._currentOrder?(this._setComponentFocusOff(),this._tabFocusMode=!1,this._sendRemainTick(0),this._currentOrder=this.loadLastFocusPosition("tab:last-order"),this.startFocusMode(!0,this._currentOrder)):(this._setComponentFocusOff(),this._currentOrder-=1,this._setComponentFocusOn("right"),this._sendRemainTick(0));else{var e=this._getClosestFocusableComponent(this._currentOrder-1,!1),t=this._getCurrentTarget();if(t.el.attributes.role&&"tab"===t.el.attributes.role.textContent&&0===e&&!this._Loop&&this._currentOrder===e){this._setComponentFocusOff();var n=this._tabMap.get(this._currentTabNumber);if(n&&n.size>0)return this.startTabFocusMode(this._currentTabNumber,n.size-1),void this._sendRemainTick(0)}this._setComponentFocusOff(),this._currentOrder=-1===e?this._currentOrder:e,console.log("[Focus.js] Focus on by prevOrder"),this._setComponentFocusOn("left"),this._sendRemainTick(0)}}},{key:"_getClosestFocusableComponent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._currentOrder,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._getCurrentSceneMap(),o=this._currentScene,i=0;n||3!==this._currentZone||(o=0,n=this._getSceneMap(this._currentZone,o));var r=t?1:-1,s=n?n.size:0;for(e=this._Loop||3===this._currentZone?e<0?s-1:e>=s?0:e:e<0?this._currentOrder:e>=s?this._currentOrder:e;i++<s;){if(this._isTargetAvailable(o,e,r))return e;e+=r,e=e<0?s:e>s?0:e}return-1}},{key:"_isTargetAvailable",value:function(e,t,n){var o=this._getSceneMap(this._currentZone,e),i=o?o.get(t):null;if(i){var r=i.el,s=i.el.getBoundingClientRect(),u=!(n>0)||s.top>=0;return!(r.disabled||r.classList.contains("disabled")||r.classList.contains("disable")||!u)}return!1}},{key:"_getCurrentTarget",value:function(){if(this._tabFocusMode){console.log(this._currentOrder);var e=this._tabMap.get(this._currentTabNumber);if(e&&e.size>0)return e.get(this._currentOrder)}else{var t=this._getCurrentSceneMap();if(t&&t.size>0)return t.get(this._currentOrder);if(3===this._currentZone)return t=this._getSceneMap(this._currentZone,0),t.get(this._currentOrder)}return null}},{key:"_setComponentFocusOn",value:function(e){var t=this._getCurrentTarget();if(t&&!t.el.classList.contains("obg-focus"))if(t.el.classList.add("obg-focus"),t.vnode&&t.vnode.componentInstance)t.vnode.componentInstance.$emit("focusin",{target:t.el,direction:e});else{var n=new CustomEvent("focusin",{target:t.el,direction:e});t.el.dispatchEvent(n)}}},{key:"_setComponentFocusOff",value:function(){var e=this._getCurrentTarget();if(e)if(e.el.classList.remove("obg-focus"),e.vnode&&e.vnode.componentInstance)e.vnode.componentInstance.$emit("focusout",{target:e.el});else{var t=new CustomEvent("focusout",{target:e.el});e.el.dispatchEvent(t)}}},{key:"_getZoneMap",value:function(e){var t=this._focusMap.get(e);return t||(t=new s.default,this._focusMap.set(e,t)),t}},{key:"_getSceneMap",value:function(e,t){var n=this._getZoneMap(e),o=n.get(t);return o||(o=new s.default,n.set(t,o)),o}},{key:"_removeSceneMap",value:function(e,t){var n=this._getZoneMap(e),o=n.get(t);return o&&n.set(t,new s.default),o}},{key:"_getCurrentSceneMap",value:function(){var e=this._focusMap.get(this._currentZone);return e?e.get(this._currentScene):null}},{key:"_addComponent",value:function(e,t,n){var o=t.scene,i=void 0===o?0:o,r=t.zone,u=void 0===r?2:r,a=t.order,c=t.isFocus,d=void 0!==c&&c,l=t.tabNumber,f=void 0===l?null:l;if(null===f||e.attributes.role&&"tab"===e.attributes.role.textContent){var h=this._getSceneMap(u,i);if(void 0===a&&(a=h.size),h.get(a))return h.set(a,{el:e,vnode:n,isFocus:d}),void console.log("[Focus.js] [ObigoUI:error] Focus order is duplicated [ scene : "+i+" / order : "+a+"] - overwrite");h.set(a,{el:e,vnode:n,isFocus:d})}else{var p=this._tabMap.get(f);p?void 0===a&&(a=p.size):(a=0,p=new s.default,this._tabMap.set(f,p)),p.set(a,{el:e,vnode:n,isFocus:d})}}},{key:"_removeComponent",value:function(e,t){var n=t.zone,o=void 0===n?2:n,i=t.scene,r=void 0===i?0:i,s=t.order,u=t.tabNumber,a=void 0===u?null:u;if(null!==a){var c=this._tabMap.get(a);void 0===s&&(s=c.size-1),c&&c.delete(s)}else{var d=this._getSceneMap(o,r);void 0===s&&(s=d.size-1),d.delete(s)}}},{key:"_addSubSection",value:function(e,t,n){this._subSectionMap.set(t,{el:e,vnode:n})}},{key:"_removeSubSection",value:function(e,t){this._subSectionMap.delete(t)}},{key:"_sendRemainTick",value:function(e){console.log("[Focus.js] notProcessedCount : "+e),window.hardkeyEventObj&&window.hardkeyEventObj.notProcessedCount(this._hardkeyCode,this._hardkeyMode,e)}},{key:"setScene",value:function(e){this._setZoneFocusOff(),this._setComponentFocusOff(),this._currentZone=2,this._currentOrder=0,this._currentScene=e}},{key:"setFocusPosition",value:function(e){var t=e.scene,n=void 0===t?0:t,o=e.order,i=void 0===o?0:o,r=e.zone,s=void 0===r?2:r;this._setZoneFocusOff(),this._setComponentFocusOff(),this._zoneFocusMode=!1,this._componentFocusMode=!1,this._currentOrder=i,this._currentZone=s,this._currentScene=n}},{key:"getCurrentPosition",value:function(){return{order:this._currentOrder,zone:this._currentZone,scene:this._currentScene}}},{key:"isFocusOn",value:function(){return this._zoneFocusMode&&this._componentFocusMode}},{key:"setFocusOnByElement",value:function(e){this.exitFocusMode();for(var t=this._getSceneMap(2,this._currentScene),n=t.size,o=-1,i=0;i<n;i++){if(t.get(i).el===e){o=i;break}}return o>-1&&(this._currentZone=2,this._currentOrder=o,this._zoneFocusMode=!0,this._componentFocusMode=!0,this._setZoneFocusOn(),console.log("[Focus.js] Focus On from SetFocusByElement"),this._setComponentFocusOn(),window.addEventListener("click",this._onBodyClickListener)),o}},{key:"setOptions",value:function(e){var t=e.loop;this._Loop=t}},{key:"storeLastFocusPosition",value:function(e,t){this._lastFocusMap.set(e,t)}},{key:"loadLastFocusPosition",value:function(e){return this._lastFocusMap.get(e)}}]),e}(),b=t.focusInstance=new g},function(e,t,n){e.exports={default:n(120),__esModule:!0}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.current=void 0;var i=n(14),r=o(i),s=n(15),u=o(s),a=n(58),c=o(a),d=n(8),l=o(d),f=function(){function e(t){var n=this;(0,r.default)(this,e),this._currentTheme=t,c.default.dom.ready(function(){document.body.classList.add("obg-theme-"+n._currentTheme)})}return(0,u.default)(e,[{key:"set",value:function(e){document.body.classList.remove("obg-theme-"+this._currentTheme),this._currentTheme=e,document.body.classList.add("obg-theme-"+e),l.default.$emit("theme:update",{name:e})}},{key:"get",value:function(){return this._currentTheme}}]),e}();t.current=new f("basic")},function(e,t,n){e.exports={default:n(84),__esModule:!0}},function(e,t,n){n(85);var o=n(1).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},function(e,t,n){var o=n(4);o(o.S+o.F*!n(7),"Object",{defineProperty:n(5).f})},function(e,t,n){"use strict";var o,i,r=n(18),s=function(e){return e&&e.__esModule?e:{default:e}}(r);!function(r,s){o=s,void 0!==(i="function"==typeof o?o.call(t,n,t,e):o)&&(e.exports=i)}(0,function(){function e(e){return("undefined"==typeof console?"undefined":(0,s.default)(console))!==a&&(void 0!==console[e]?t(console,e):void 0!==console.log?t(console,"log"):u)}function t(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function n(e,t,n){return function(){("undefined"==typeof console?"undefined":(0,s.default)(console))!==a&&(o.call(this,t,n),this[e].apply(this,arguments))}}function o(e,t){for(var n=0;n<c.length;n++){var o=c[n];this[o]=n<e?u:this.methodFactory(o,e,t)}}function i(t,o,i){return e(t)||n.apply(this,arguments)}function r(e,t,n){function r(e){var t=(c[e]||"silent").toUpperCase();try{return void(window.localStorage[f]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"="+t+";"}catch(e){}}function u(){var e;try{e=window.localStorage[f]}catch(e){}if((void 0===e?"undefined":(0,s.default)(e))===a)try{var t=window.document.cookie,n=t.indexOf(encodeURIComponent(f)+"=");n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}catch(e){}return void 0===l.levels[e]&&(e=void 0),e}var d,l=this,f="loglevel";e&&(f+=":"+e),l.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},l.methodFactory=n||i,l.getLevel=function(){return d},l.setLevel=function(t,n){if("string"==typeof t&&void 0!==l.levels[t.toUpperCase()]&&(t=l.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=l.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(d=t,!1!==n&&r(t),o.call(l,t,e),("undefined"==typeof console?"undefined":(0,s.default)(console))===a&&t<l.levels.SILENT)return"No console available for logging"},l.setDefaultLevel=function(e){u()||l.setLevel(e,!1)},l.enableAll=function(e){l.setLevel(l.levels.TRACE,e)},l.disableAll=function(e){l.setLevel(l.levels.SILENT,e)};var h=u();null==h&&(h=null==t?"WARN":t),l.setLevel(h,!1)}var u=function(){},a="undefined",c=["trace","debug","info","warn","error"],d=new r,l={};d.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=l[e];return t||(t=l[e]=new r(e,d.getLevel(),d.methodFactory)),t};var f=("undefined"==typeof window?"undefined":(0,s.default)(window))!==a?window.log:void 0;return d.noConflict=function(){return("undefined"==typeof window?"undefined":(0,s.default)(window))!==a&&window.log===d&&(window.log=f),d},d})},function(e,t,n){e.exports={default:n(88),__esModule:!0}},function(e,t,n){n(27),n(32),e.exports=n(43).f("iterator")},function(e,t,n){var o=n(35),i=n(36);e.exports=function(e){return function(t,n){var r,s,u=String(i(t)),a=o(n),c=u.length;return a<0||a>=c?e?"":void 0:(r=u.charCodeAt(a),r<55296||r>56319||a+1===c||(s=u.charCodeAt(a+1))<56320||s>57343?e?u.charAt(a):r:e?u.slice(a,a+2):s-56320+(r-55296<<10)+65536)}}},function(e,t,n){"use strict";var o=n(38),i=n(25),r=n(23),s={};n(10)(s,n(3)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(s,{next:i(1,n)}),r(e,t+" Iterator")}},function(e,t,n){var o=n(5),i=n(9),r=n(21);e.exports=n(7)?Object.defineProperties:function(e,t){i(e);for(var n,s=r(t),u=s.length,a=0;u>a;)o.f(e,n=s[a++],t[n]);return e}},function(e,t,n){var o=n(16),i=n(31),r=n(93);e.exports=function(e){return function(t,n,s){var u,a=o(t),c=i(a.length),d=r(s,c);if(e&&n!=n){for(;c>d;)if((u=a[d++])!=u)return!0}else for(;c>d;d++)if((e||d in a)&&a[d]===n)return e||d||0;return!e&&-1}}},function(e,t,n){var o=n(35),i=Math.max,r=Math.min;e.exports=function(e,t){return e=o(e),e<0?i(e+t,0):r(e,t)}},function(e,t,n){var o=n(13),i=n(26),r=n(40)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),o(e,r)?e[r]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var o=n(96),i=n(62),r=n(20),s=n(16);e.exports=n(37)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(e,t){e.exports=function(){}},function(e,t,n){n(98),n(47),n(102),n(103),e.exports=n(1).Symbol},function(e,t,n){"use strict";var o=n(2),i=n(13),r=n(7),s=n(4),u=n(59),a=n(44).KEY,c=n(12),d=n(41),l=n(23),f=n(28),h=n(3),p=n(43),v=n(45),_=n(99),y=n(64),m=n(9),g=n(6),b=n(16),E=n(34),k=n(25),O=n(38),w=n(100),T=n(101),R=n(5),M=n(21),F=T.f,S=R.f,C=w.f,L=o.Symbol,x=o.JSON,A=x&&x.stringify,D=h("_hidden"),P=h("toPrimitive"),H={}.propertyIsEnumerable,N=d("symbol-registry"),Y=d("symbols"),j=d("op-symbols"),I=Object.prototype,K="function"==typeof L,$=o.QObject,Z=!$||!$.prototype||!$.prototype.findChild,G=r&&c(function(){return 7!=O(S({},"a",{get:function(){return S(this,"a",{value:7}).a}})).a})?function(e,t,n){var o=F(I,t);o&&delete I[t],S(e,t,n),o&&e!==I&&S(I,t,o)}:S,z=function(e){var t=Y[e]=O(L.prototype);return t._k=e,t},U=K&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L},B=function(e,t,n){return e===I&&B(j,t,n),m(e),t=E(t,!0),m(n),i(Y,t)?(n.enumerable?(i(e,D)&&e[D][t]&&(e[D][t]=!1),n=O(n,{enumerable:k(0,!1)})):(i(e,D)||S(e,D,k(1,{})),e[D][t]=!0),G(e,t,n)):S(e,t,n)},W=function(e,t){m(e);for(var n,o=_(t=b(t)),i=0,r=o.length;r>i;)B(e,n=o[i++],t[n]);return e},q=function(e,t){return void 0===t?O(e):W(O(e),t)},V=function(e){var t=H.call(this,e=E(e,!0));return!(this===I&&i(Y,e)&&!i(j,e))&&(!(t||!i(this,e)||!i(Y,e)||i(this,D)&&this[D][e])||t)},X=function(e,t){if(e=b(e),t=E(t,!0),e!==I||!i(Y,t)||i(j,t)){var n=F(e,t);return!n||!i(Y,t)||i(e,D)&&e[D][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=C(b(e)),o=[],r=0;n.length>r;)i(Y,t=n[r++])||t==D||t==a||o.push(t);return o},Q=function(e){for(var t,n=e===I,o=C(n?j:b(e)),r=[],s=0;o.length>s;)!i(Y,t=o[s++])||n&&!i(I,t)||r.push(Y[t]);return r};K||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===I&&t.call(j,n),i(this,D)&&i(this[D],e)&&(this[D][e]=!1),G(this,e,k(1,n))};return r&&Z&&G(I,e,{configurable:!0,set:t}),z(e)},u(L.prototype,"toString",function(){return this._k}),T.f=X,R.f=B,n(65).f=w.f=J,n(29).f=V,n(46).f=Q,r&&!n(19)&&u(I,"propertyIsEnumerable",V,!0),p.f=function(e){return z(h(e))}),s(s.G+s.W+s.F*!K,{Symbol:L});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=M(h.store),oe=0;ne.length>oe;)v(ne[oe++]);s(s.S+s.F*!K,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=L(e)},keyFor:function(e){if(!U(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),s(s.S+s.F*!K,"Object",{create:q,defineProperty:B,defineProperties:W,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),x&&s(s.S+s.F*(!K||c(function(){var e=L();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function(e){for(var t,n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t=o[1],(g(t)||void 0!==e)&&!U(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!U(t))return t}),o[1]=t,A.apply(x,o)}}),L.prototype[P]||n(10)(L.prototype,P,L.prototype.valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(o.JSON,"JSON",!0)},function(e,t,n){var o=n(21),i=n(46),r=n(29);e.exports=function(e){var t=o(e),n=i.f;if(n)for(var s,u=n(e),a=r.f,c=0;u.length>c;)a.call(e,s=u[c++])&&t.push(s);return t}},function(e,t,n){var o=n(16),i=n(65).f,r={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return i(e)}catch(e){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==r.call(e)?u(e):i(o(e))}},function(e,t,n){var o=n(29),i=n(25),r=n(16),s=n(34),u=n(13),a=n(57),c=Object.getOwnPropertyDescriptor;t.f=n(7)?c:function(e,t){if(e=r(e),t=s(t,!0),a)try{return c(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){n(45)("asyncIterator")},function(e,t,n){n(45)("observable")},function(e,t,n){n(105),e.exports=n(1).Object.keys},function(e,t,n){var o=n(26),i=n(21);n(106)("keys",function(){return function(e){return i(o(e))}})},function(e,t,n){var o=n(4),i=n(1),r=n(12);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],s={};s[e]=t(n),o(o.S+o.F*r(function(){n(1)}),"Object",s)}},function(e,t,n){"use strict";e.exports={timeToSec:function(e){var t=/^(?:(?:([01]?\d|[0-9][0-9]):)?([0-5]?\d):)?([0-5]?\d)$/.exec(e),n=0;return t?(t=t.slice(1),t.map(function(e,t){if(e){var o=Number(e);switch(t){case 0:n+=3600*o;break;case 1:n+=60*o;break;case 2:n+=o}}})):n=e,n},secToTime:function(e){var t=new Date(null),n=/^(00)+:[0-5]?\d:[0-5]?\d/,o=void 0;return t.setSeconds(Math.round(e)),o=t.toISOString().substr(11,8),n.exec(o)?o.substr(3,6):o},getCurrentTimeText:function(e,t){var n=this.timeToSec(e);return this.secToTime(n*t/100)}}},function(e,t,n){"use strict";function o(e,t,n){var o=(0,u.default)();t.dataset["__"+e]=o,a[e]?a[e][o]&&console.warn("Element store [add]: overwriting data"):a[e]={},a[e][o]=n}function i(e,t){var n=t.dataset["__"+e];if(!n)return void console.warn("Element store [get]: id not registered",e,t);if(!a[e])return void console.warn("Element store [get]: name not registered",e,t);var o=a[e][n];return o||void console.warn("Element store [get]: data not found for",e,":",n,"->",t)}function r(e,t){var n=t.dataset["__"+e];if(!n)return void console.warn("Element store [remove]: id not registered",e,t);a[e]&&a[e][n]&&delete a[e][n]}Object.defineProperty(t,"__esModule",{value:!0}),t.add=o,t.get=i,t.remove=r;var s=n(67),u=function(e){return e&&e.__esModule?e:{default:e}}(s),a={}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),r=o(i),s=n(110),u=o(s),a=n(112),c=o(a),d=n(14),l=o(d),f=n(15),h=o(f),p=function(){function e(t){(0,l.default)(this,e),this.xmlhttp=null,this.opt={url:null,type:"GET",data:null,async:!0,timeout:5e3,dataType:"text",requestHeader:null};for(var n in t)this.opt[n]=t[n]}return(0,h.default)(e,[{key:"_encodeFormData",value:function(e){var t=[],n=/%20/g;for(var o in e)if(e.hasOwnProperty(o)){var i=e[o].toString(),r=encodeURIComponent(o).replace(n,"+")+"="+encodeURIComponent(i).replace(n,"+");t.push(r)}return t.join("&")}},{key:"_parseXML",value:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(e){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+e);return t}},{key:"_onLoad",value:function(e){var t,n,o={};if(o.status=this.xmlhttp.status,o.statusText=this.xmlhttp.statusText,200===this.xmlhttp.status||0===this.xmlhttp.status)if("json"===this.opt.dataType)if(this.xmlhttp.responseText){try{n=JSON.parse(this.xmlhttp.responseText)}catch(e){return o.data="json parseerror",void this.reject(o)}o.data=n,this.resolve(o)}else o.data="empty json",this.reject(o);else if("xml"===this.opt.dataType)if(this.xmlhttp.responseXML)o.data=this.xmlhttp.responseXML,this.resolve(o);else if(this.xmlhttp.responseText){try{t=this._parseXML(this.xmlhttp.responseText)}catch(e){return o.data="xml parseerror",void this.reject(o)}o.data=t,this.resolve(o)}else o.data="empty xml",this.reject(o);else o.data=this.xmlhttp.responseText,this.resolve(o);else 0!==this.xmlhttp.status&&(o.data="error",this.reject(o))}},{key:"_onTimeout",value:function(e){var t={};t.status=this.xmlhttp.status,t.statusText=this.xmlhttp.statusText,t.data="timeout",this.reject(t)}},{key:"_onError",value:function(e){var t={};t.status=this.xmlhttp.status,t.statusText=this.xmlhttp.statusText,t.data="string"!=typeof e||"timeerror"!==e&&"nonetwork"!==e?"error":e,this.reject(t)}},{key:"_req",value:function(){var e=this;return new c.default(function(t,n){if(e.resolve=t,e.reject=n,e.opt.url||n({data:"no url"}),e.xmlhttp=null,e.xmlhttp=new XMLHttpRequest,e.xmlhttp.onload=e._onLoad.bind(e),e.xmlhttp.ontimeout=e._onTimeout.bind(e),e.xmlhttp.onerror=e._onError.bind(e),e.opt.type=e.opt.type.toUpperCase(),e.opt.async&&(e.xmlhttp.timeout=e.opt.timeout),"GET"===e.opt.type&&e.opt.data&&(e.opt.data=e._encodeFormData(e.opt.data),e.opt.url=e.opt.url+"?"+e.opt.data,e.opt.data=null),e.xmlhttp.open(e.opt.type,e.opt.url,e.opt.async),"POST"!==e.opt.type||(0,u.default)(e.opt.requestHeader).match(/content-type/gi)||e.xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.opt.requestHeader){var o=e.opt.requestHeader;for(var i in o)o.hasOwnProperty(i)&&e.xmlhttp.setRequestHeader(i,o[i])}"object"===(0,r.default)(e.opt.data)&&(e.opt.data=e._encodeFormData(e.opt.data)),e.xmlhttp.send(e.opt.data)})}}]),e}(),v=function(){function e(){(0,l.default)(this,e)}return(0,h.default)(e,[{key:"get",value:function(e){return e.type="GET",new p(e)._req()}},{key:"post",value:function(e){return e.type="POST",new p(e)._req()}},{key:"delete",value:function(e){return e.type="DELETE",new p(e)._req()}},{key:"put",value:function(e){return e.type="PUT",new p(e)._req()}},{key:"http",value:function(e){return new p(e)._req()}}]),e}();t.default=new v},function(e,t,n){e.exports={default:n(111),__esModule:!0}},function(e,t,n){var o=n(1),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){e.exports={default:n(113),__esModule:!0}},function(e,t,n){n(47),n(27),n(32),n(114),n(118),n(119),e.exports=n(1).Promise},function(e,t,n){"use strict";var o,i,r,s,u=n(19),a=n(2),c=n(11),d=n(49),l=n(4),f=n(6),h=n(17),p=n(50),v=n(24),_=n(69),y=n(70).set,m=n(116)(),g=n(51),b=n(71),E=n(117),k=n(72),O=a.TypeError,w=a.process,T=w&&w.versions,R=T&&T.v8||"",M=a.Promise,F="process"==d(w),S=function(){},C=i=g.f,L=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(3)("species")]=function(e){e(S,S)};return(F||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t&&0!==R.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(e){}}(),x=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var o=e._v,i=1==e._s,r=0;n.length>r;)!function(t){var n,r,s,u=i?t.ok:t.fail,a=t.resolve,c=t.reject,d=t.domain;try{u?(i||(2==e._h&&H(e),e._h=1),!0===u?n=o:(d&&d.enter(),n=u(o),d&&(d.exit(),s=!0)),n===t.promise?c(O("Promise-chain cycle")):(r=x(n))?r.call(n,a,c):a(n)):c(o)}catch(e){d&&!s&&d.exit(),c(e)}}(n[r++]);e._c=[],e._n=!1,t&&!e._h&&D(e)})}},D=function(e){y.call(a,function(){var t,n,o,i=e._v,r=P(e);if(r&&(t=b(function(){F?w.emit("unhandledRejection",i,e):(n=a.onunhandledrejection)?n({promise:e,reason:i}):(o=a.console)&&o.error&&o.error("Unhandled promise rejection",i)}),e._h=F||P(e)?2:1),e._a=void 0,r&&t.e)throw t.v})},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},H=function(e){y.call(a,function(){var t;F?w.emit("rejectionHandled",e):(t=a.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},Y=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw O("Promise can't be resolved itself");(t=x(e))?m(function(){var o={_w:n,_d:!1};try{t.call(e,c(Y,o,1),c(N,o,1))}catch(e){N.call(o,e)}}):(n._v=e,n._s=1,A(n,!1))}catch(e){N.call({_w:n,_d:!1},e)}}};L||(M=function(e){p(this,M,"Promise","_h"),h(e),o.call(this);try{e(c(Y,this,1),c(N,this,1))}catch(e){N.call(this,e)}},o=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=n(52)(M.prototype,{then:function(e,t){var n=C(_(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=F?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new o;this.promise=e,this.resolve=c(Y,e,1),this.reject=c(N,e,1)},g.f=C=function(e){return e===M||e===s?new r(e):i(e)}),l(l.G+l.W+l.F*!L,{Promise:M}),n(23)(M,"Promise"),n(73)("Promise"),s=n(1).Promise,l(l.S+l.F*!L,"Promise",{reject:function(e){var t=C(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(u||!L),"Promise",{resolve:function(e){return k(u&&this===s?M:this,e)}}),l(l.S+l.F*!(L&&n(79)(function(e){M.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=C(t),o=n.resolve,i=n.reject,r=b(function(){var n=[],r=0,s=1;v(e,!1,function(e){var u=r++,a=!1;n.push(void 0),s++,t.resolve(e).then(function(e){a||(a=!0,n[u]=e,--s||o(n))},i)}),--s||o(n)});return r.e&&i(r.v),n.promise},race:function(e){var t=this,n=C(t),o=n.reject,i=b(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,o)})});return i.e&&o(i.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var o=n(2),i=n(70).set,r=o.MutationObserver||o.WebKitMutationObserver,s=o.process,u=o.Promise,a="process"==n(22)(s);e.exports=function(){var e,t,n,c=function(){var o,i;for(a&&(o=s.domain)&&o.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,o&&o.enter()};if(a)n=function(){s.nextTick(c)};else if(!r||o.navigator&&o.navigator.standalone)if(u&&u.resolve){var d=u.resolve(void 0);n=function(){d.then(c)}}else n=function(){i.call(o,c)};else{var l=!0,f=document.createTextNode("");new r(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(o){var i={fn:o,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var o=n(2),i=o.navigator;e.exports=i&&i.userAgent||""},function(e,t,n){"use strict";var o=n(4),i=n(1),r=n(2),s=n(69),u=n(72);o(o.P+o.R,"Promise",{finally:function(e){var t=s(this,i.Promise||r.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var o=n(4),i=n(51),r=n(71);o(o.S,"Promise",{try:function(e){var t=i.f(this),n=r(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){n(47),n(27),n(32),n(121),n(127),n(130),n(132),e.exports=n(1).Map},function(e,t,n){"use strict";var o=n(122),i=n(74);e.exports=n(123)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=o.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return o.def(i(this,"Map"),0===e?0:e,t)}},o,!0)},function(e,t,n){"use strict";var o=n(5).f,i=n(38),r=n(52),s=n(11),u=n(50),a=n(24),c=n(37),d=n(62),l=n(73),f=n(7),h=n(44).fastKey,p=n(74),v=f?"_s":"size",_=function(e,t){var n,o=h(t);if("F"!==o)return e._i[o];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var d=e(function(e,o){u(e,d,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=o&&a(o,n,e[c],e)});return r(d.prototype,{clear:function(){for(var e=p(this,t),n=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=void 0),delete n[o.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=p(this,t),o=_(n,e);if(o){var i=o.n,r=o.p;delete n._i[o.i],o.r=!0,r&&(r.n=i),i&&(i.p=r),n._f==o&&(n._f=i),n._l==o&&(n._l=r),n[v]--}return!!o},forEach:function(e){p(this,t);for(var n,o=s(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(o(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!_(p(this,t),e)}}),f&&o(d.prototype,"size",{get:function(){return p(this,t)[v]}}),d},def:function(e,t,n){var o,i,r=_(e,t);return r?r.v=n:(e._l=r={i:i=h(t,!0),k:t,v:n,p:o=e._l,n:void 0,r:!1},e._f||(e._f=r),o&&(o.n=r),e[v]++,"F"!==i&&(e._i[i]=r)),e},getEntry:_,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=p(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?d(0,n.k):"values"==t?d(0,n.v):d(0,[n.k,n.v]):(e._t=void 0,d(1))},n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){"use strict";var o=n(2),i=n(4),r=n(44),s=n(12),u=n(10),a=n(52),c=n(24),d=n(50),l=n(6),f=n(23),h=n(5).f,p=n(124)(0),v=n(7);e.exports=function(e,t,n,_,y,m){var g=o[e],b=g,E=y?"set":"add",k=b&&b.prototype,O={};return v&&"function"==typeof b&&(m||k.forEach&&!s(function(){(new b).entries().next()}))?(b=t(function(t,n){d(t,b,e,"_c"),t._c=new g,void 0!=n&&c(n,y,t[E],t)}),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in k&&(!m||"clear"!=e)&&u(b.prototype,e,function(n,o){if(d(this,b,e),!t&&m&&!l(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,o);return t?this:i})}),m||h(b.prototype,"size",{get:function(){return this._c.size}})):(b=_.getConstructor(t,e,y,E),a(b.prototype,n),r.NEED=!0),f(b,e),O[e]=b,i(i.G+i.W+i.F,O),m||_.setStrong(b,e,y),b}},function(e,t,n){var o=n(11),i=n(39),r=n(26),s=n(31),u=n(125);e.exports=function(e,t){var n=1==e,a=2==e,c=3==e,d=4==e,l=6==e,f=5==e||l,h=t||u;return function(t,u,p){for(var v,_,y=r(t),m=i(y),g=o(u,p,3),b=s(m.length),E=0,k=n?h(t,b):a?h(t,0):void 0;b>E;E++)if((f||E in m)&&(v=m[E],_=g(v,E,y),e))if(n)k[E]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return E;case 2:k.push(v)}else if(d)return!1;return l?-1:c||d?d:k}}},function(e,t,n){var o=n(126);e.exports=function(e,t){return new(o(e))(t)}},function(e,t,n){var o=n(6),i=n(64),r=n(3)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),o(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var o=n(4);o(o.P+o.R,"Map",{toJSON:n(128)("Map")})},function(e,t,n){var o=n(49),i=n(129);e.exports=function(e){return function(){if(o(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var o=n(24);e.exports=function(e,t){var n=[];return o(e,!1,n.push,n,t),n}},function(e,t,n){n(131)("Map")},function(e,t,n){"use strict";var o=n(4);e.exports=function(e){o(o.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(133)("Map")},function(e,t,n){"use strict";var o=n(4),i=n(17),r=n(11),s=n(24);e.exports=function(e){o(o.S,e,{from:function(e){var t,n,o,u,a=arguments[1];return i(this),t=void 0!==a,t&&i(a),void 0==e?new this:(n=[],t?(o=0,u=r(a,arguments[2],2),s(e,!1,function(e){n.push(u(e,o++))})):s(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports={default:n(135),__esModule:!0}},function(e,t,n){n(136),e.exports=n(1).Object.assign},function(e,t,n){var o=n(4);o(o.S+o.F,"Object",{assign:n(137)})},function(e,t,n){"use strict";var o=n(21),i=n(46),r=n(29),s=n(26),u=n(39),a=Object.assign;e.exports=!a||n(12)(function(){var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach(function(e){t[e]=e}),7!=a({},e)[n]||Object.keys(a({},t)).join("")!=o})?function(e,t){for(var n=s(e),a=arguments.length,c=1,d=i.f,l=r.f;a>c;)for(var f,h=u(arguments[c++]),p=d?o(h).concat(d(h)):o(h),v=p.length,_=0;v>_;)l.call(h,f=p[_++])&&(n[f]=h[f]);return n}:a},,,,,,,,,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.obigoGadgetUI=t.ObigoRouter=t.Lockout=t.Events=t.appManager=t.Mixins=t.Utils=void 0;var i=n(151),r=o(i),s=n(82),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),a=n(58),c=o(a),d=n(157),l=o(d),f=n(8),h=o(f),p=n(159),v=o(p),_=n(160),y=n(30),m=o(y),g={version:"1.0.21",install:(0,r.default)(),theme:u},b={version:"1.0.21",install:(0,r.default)("gadget"),theme:u};t.Utils=c.default,t.Mixins=l.default,t.appManager=m.default,t.Events=h.default,t.Lockout=_.install,t.ObigoRouter=v.default,t.obigoGadgetUI=b,window&&!window.obigoUI&&(window.obigoUI=g),t.default=g},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";e.directive("obg-focus",h.default),e.directive("tap",y.default),"core"===t&&e.directive("obg-touch-swipe",v.default)}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"core";return function(n){if(this.installed)return void console.warn("Obigo-js-ui already installed in Vue.");t.Vue=g=n,(0,a.install)(n),(0,d.install)(n),(0,c.install)(n),(0,u.install)(n),i(n,e),(0,m.mouseEventPolyfill)(),n.prototype.$theme=s.current,n.prototype.$hardkey=(0,l.getHardkeyInstance)()}}Object.defineProperty(t,"__esModule",{value:!0}),t.Vue=void 0,t.default=r;var s=n(82),u=n(80),a=n(8),c=n(152),d=n(153),l=n(53),f=n(154),h=o(f),p=n(155),v=o(p),_=n(156),y=o(_),m=n(48),g=t.Vue=void 0},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){new p;return h}Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),s=o(r),u=n(15),a=o(u);t.install=i;var c=n(30),d=o(c),l=n(82),f=[{name:"regular",rgb:"rgb(140,160,200)"},{name:"basic",rgb:"rgb(0,120,240)"},{name:"eco",rgb:"rgb(120,220,0)"},{name:"sport",rgb:"rgb(255,0,0)"},{name:"initiale",rgb:"rgb(150,0,255)"},{name:"zen",rgb:"rgb(0,220,255)"},{name:"race",rgb:"rgb(255,200,0)"},{name:"mysense",rgb:"rgb(255,90,0)"}],h=void 0,p=function(){function e(){return(0,s.default)(this,e),h||(h=this,this.appManager=d.default,this.appManager&&(this._currentMode=this._matchingColor(window.applicationFramework.util.getAmbientColor()),this._bind(),l.current.set(this._currentMode))),h}return(0,a.default)(e,[{key:"_matchingColor",value:function(e){var t=f.filter(function(t){return t.rgb===e});return 0===t.length?f[0].name:t[0]?t[0].name:"basic"}},{key:"_bind",value:function(){var e=this;this.appManager.addEventListener("AmbientColorChanged",function(t){e._currentMode=e._matchingColor(t.str),l.current.set(e._currentMode)})}},{key:"get",value:function(){return this._currentMode}}]),e}()},function(e,t,n){"use strict";function o(e,t){e.prototype.$model={name:c,wheelPosition:d,options:{list:t&&t.list?t.list:l.list}}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=o;var i=n(30),r=function(e){return e&&e.__esModule?e:{default:e}}(i),s={RENAULT7P:"renault7p",RENAULT9P:"renault9p",DACIA7P:"dacia7p",NISSAN9P:"nissan9p"},u={RHD:"rhd",LHD:"lhd"},a=r.default?window.applicationFramework.util:void 0,c=a&&a.getDeviceModel?a.getDeviceModel():window.$model?window.$model:s.RENAULT7P,d=a&&a.getSteeringWheelPosition&&1===a.getSteeringWheelPosition()?u.RHD:u.LHD,l={list:{listIndicator:c===s.NISSAN9P,hideDummyItem:c===s.NISSAN9P,scrollbars:c!==s.NISSAN9P,fadeScrollbars:c!==s.NISSAN9P,bounce:c!==s.NISSAN9P,preventBounce:c===s.NISSAN9P,enableJogUpDown:c===s.NISSAN9P}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(80);t.default={inserted:function(e,t,n){var i=t.value,r=void 0===i?{scene:0,zone:2,skip:!1,subSection:!1,sectionDirection:"left",tabNumber:null}:i;r.skip||(r.subSection?o.focusInstance._addSubSection(e,r.sectionDirection,n):o.focusInstance._addComponent(e,r,n))},componentUpdated:function(e,t){var n=t.value;(void 0===n?{scene:0,zone:2,skip:!1}:n).skip||e.disabled||e.classList.contains("disabled")||e.classList.contains("disable")||!o.focusInstance._componentFocusMode||o.focusInstance._componentControlMode||o.focusInstance._setComponentFocusOn()},unbind:function(e,t){var n=t.value,i=void 0===n?{scene:0,zone:2,subSection:!1,sectionDirection:"left",tabNumber:null}:n;t.modifiers;i.skip||(i.subSection?o.focusInstance._removeSubSection(e,i.sectionDirection):o.focusInstance._removeComponent(e,i))}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(0===(0,u.default)(e).length)return{left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0};var t={};return["left","right","up","down","horizontal","vertical"].forEach(function(n){e[n]&&(t[n]=!0)}),t.horizontal&&(t.left=t.right=!0),t.vertical&&(t.up=t.down=!0),(t.left||t.right)&&(t.horizontal=!0),(t.up||t.down)&&(t.vertical=!0),t}function r(e,t){e.classList.add("obg-touch"),t.horizontal&&!t.vertical?(e.classList.add("obg-touch-y"),e.classList.remove("obg-touch-x")):!t.horizontal&&t.vertical&&(e.classList.add("obg-touch-x"),e.classList.remove("obg-touch-y"))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(66),u=o(s),a=n(58),c=o(a),d="ontouchstart"in window,l=d?"touchstart":"mousedown",f=d?"touchmove":"mousemove",h=d?"touchend":"mouseup";t.default={bind:function(e,t){var n={handler:t.value,direction:i(t.modifiers),start:function(e){var t=c.default.event.position(e);n.event={x:t.left,y:t.top,time:(new Date).getTime(),detected:!1,prevent:n.direction.horizontal&&n.direction.vertical},document.addEventListener(f,n.move),document.addEventListener(h,n.end)},move:function(e){var t=c.default.event.position(e),o=t.left-n.event.x,i=t.top-n.event.y;if(n.event.prevent)return void e.preventDefault();n.event.detected||(n.event.detected=!0,n.direction.horizontal&&!n.direction.vertical?Math.abs(o)>Math.abs(i)&&(e.preventDefault(),n.event.prevent=!0):Math.abs(o)<Math.abs(i)&&(e.preventDefault(),n.event.prevent=!0))},end:function(e){document.removeEventListener(f,n.move),document.removeEventListener(h,n.end);var t=void 0,o=c.default.event.position(e),i=o.left-n.event.x,r=o.top-n.event.y;0===i&&0===r||(t=Math.abs(i)>=Math.abs(r)?i<0?"left":"right":r<0?"up":"down",n.direction[t]&&n.handler({evt:e,direction:t,duration:(new Date).getTime()-n.event.time,distance:{x:Math.abs(i),y:Math.abs(r)}}))}};c.default.store.add("touchswipe",e,n),r(e,n.direction),e.addEventListener(l,n.start)},update:function(e,t){if(t.oldValue!==t.value){c.default.store.get("touchswipe",e).handler=t.value}},unbind:function(e,t){var n=c.default.store.get("touchswipe",e);e.removeEventListener(l,n.start),e.removeEventListener(f,n.move),e.removeEventListener(h,n.end),c.default.store.remove("touchswipe",e)}}},function(e,t,n){"use strict";function o(e,t,n,o){if(!e||!t)return!1;var i=o.getBoundingClientRect(),r={startX:i.left,endX:i.left+i.width,startY:i.top,endY:i.top+i.height},s=Math.abs(e.pageX-t.pageX)<=n&&Math.abs(e.pageY-t.pageY)<=n,u=r.startX<t.clientX&&t.clientX<r.endX&&r.startY<t.clientY&&t.clientY<r.endY;return e.target===t.target&&s&&u}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createEvent("HTMLEvents");return o.initEvent(e,t,!0),(0,s.default)(o,n)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(134),s=function(e){return e&&e.__esModule?e:{default:e}}(r),u="ontouchstart"in window,a=u?"touchstart":"mousedown",c=u?"touchmove":"mousemove",d=u?"touchend":"mouseup";t.default={bind:function(e,t){function n(e){}function r(t){s();var n=t.changedTouches&&t.changedTouches.length>0?t.changedTouches[0]:t;if(o(h,n,y?9999:100,p)){if(f.prevent&&t.preventDefault(),f.stop&&t.stopPropagation(),+new Date-v<=3e3||m){var r=i("tap",!f.capture,{e:t});_(r),e.dispatchEvent(r)}h=null,v=null}}function s(){e.removeEventListener(c,n),e.removeEventListener(d,r)}var u=t.value,l=void 0===u?function(){}:u,f=t.modifiers,h=void 0,p=void 0,v=void 0,_="function"==typeof l?l:l.cb,y=f.ignoreThreshold,m=f.ignoreDelay;e.addEventListener(a,function(t){p=t.currentTarget,(h=t.touches?1===t.touches.length?t.touches[0]:null:t)&&(v=+new Date,e.addEventListener(c,n),e.addEventListener(d,r))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(158),i=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={page:i.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={methods:{setTitle:function(e){if("string"==typeof e)this._title=e;else if(this._title===this._appName){var t=this._application.getDescriptor(),n=this._util.getLanguage(),o=t.getWidgetName(n);o?(this._title=o,this._appName=o):this._title="(No title)"}try{var i=this.$t?this.$t(this._title):this._title;this._application.setStatusBarTitle(i)}catch(e){console.log(e.message)}}},mounted:function(){if(window.applicationFramework){this._application=window.applicationFramework.applicationManager.getOwnerApplication(window.document),this._util=window.applicationFramework.util,this._application.addEventListener("ApplicationShown",this.setTitle,!1),this._title="";var e=this._application.getDescriptor(),t=this._util.getLanguage(),n=e.getWidgetName(t);n?(this._title=n,this._appName=n):this._title="(No title)"}if(this.$focus._componentFocusMode&&this.autoFocus){var o=this.$focus.loadLastFocusPosition(this.scene);this.$focus.setScene(this.scene),o&&3===o.zone?(this.$focus._currentZone=3,this.$focus._currentOrder=o.order,this.$focus._setZoneFocusOn(3),this.$focus._setComponentFocusOn()):this.$focus.startFocusMode()}},activated:function(){if(this.$focus._componentFocusMode&&this.autoFocus){var e=this.$focus.loadLastFocusPosition(this.scene);this.$focus.setScene(this.scene),e&&3===e.zone?(this.$focus._currentZone=3,this.$focus._currentOrder=e.order,this.$focus._setZoneFocusOn(3),this.$focus._setComponentFocusOn()):this.$focus.startFocusMode()}},beforeDestroy:function(){window.applicationFramework&&this._application.removeEventListener("ApplicationShown",this.setTitle,!1),this.$focus.storeLastFocusPosition(this.scene,this.$focus.getCurrentPosition())},deactivated:function(){this.$focus.storeLastFocusPosition(this.scene,this.$focus.getCurrentPosition())},data:function(){return{scene:0,_lastFocusOrder:-1,autoFocus:!0}},watch:{scene:function(e,t){this.$focus.setScene(e)}}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.isBack=!1,e._go=e.go,e._push=e.push,e.go=function(t){e._go(t),t<0&&(e.isBack=!0)},e.push=function(t,n,o){e._push(t,n,o),e.isBack=!1},e}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{toastContent:""};return m._bind(),t&&t.toastContent&&""!==t.toastContent&&m.setToastContent(t.toastContent),e.prototype.$lockout=m,m}Object.defineProperty(t,"__esModule",{value:!0}),t.lockoutInstance=void 0;var r=n(81),s=o(r),u=n(14),a=o(u),c=n(15),d=o(c);t.install=i;var l=n(30),f=o(l),h={NO_POPUP:0,TOAST_POPUP:1,CENTER_POPUP:2},p={NOT_DRIVING:0,DRIVING:1},v={GADGET:"gadget",WIDGET:"widget"},_="/",y=function(){function e(){(0,a.default)(this,e),this.appManager=f.default,this._pathMap=new s.default,this._appType="",this._binded=!1,this._currentPath=_,this._lockoutStatus="NONE",this._toastContent="Not available while driving",this._addEvent=this._addEvent.bind(this),this._addElement=this._addElement.bind(this),this._removeElement=this._removeElement.bind(this),this._onChangedLockoutStatus=this._onChangedLockoutStatus.bind(this),this._setLockout=this._setLockout.bind(this),this.setToastContent=this.setToastContent.bind(this),this.getDrivingFlag=this.getDrivingFlag.bind(this),this.getPathCollection=this.getPathCollection.bind(this)}return(0,d.default)(e,[{key:"_bind",value:function(){this._binded||(this._binded=!0,this.appManager&&(this._appType=2===this.appManager.type?v.GADGET:v.WIDGET,this._lockoutStatus=this.appManager.getLockoutStatus()))}},{key:"_addEvent",value:function(){this.appManager&&this.appManager.addEventListener("ChangedLockoutStatus",this._onChangedLockoutStatus)}},{key:"_addElement",value:function(t,n,o){var i=this,r={element:t,condition:n.modifiers,originStyle:void 0},s=this.getDrivingFlag(),u=this.getPathCollection();u.push(r),this._pathMap.set(this._currentPath,u);var a=function(e){i.getDrivingFlag()&&r.condition.disable&&(e.preventDefault(),e.stopPropagation(),i.appManager.requestPopup(h.TOAST_POPUP,"",i._toastContent,[]))};r.element.addEventListener("click",a,!0),e.applyLockoutMode(r,s)}},{key:"_removeElement",value:function(e,t){var n=this.getPathCollection();n=n.filter(function(t){var n=t.element;return!!n&&!e.isEqualNode(n)}),this._pathMap.set(this._currentPath,n)}},{key:"_onChangedLockoutStatus",value:function(t){this._lockoutStatus=t;var n=this.getDrivingFlag();this.getPathCollection().forEach(function(t,o){t.element&&e.applyLockoutMode(t,n)})}},{key:"_setLockout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.querySelector("#obg-lockout"),n=null!==t&&void 0!==t,o=this;if(e&&!n){var i=document.createElement("div");i.setAttribute("id","obg-lockout"),i.classList.add("lockout-cover"),i.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();o.appManager.requestPopup(h.TOAST_POPUP,"",o._toastContent,[])});var r=document.createElement("i");r.classList.add("obg-icon-drive-restriction"),i.append(r),document.body.append(i)}else!e&&n&&t.remove()}},{key:"getPathCollection",value:function(){var e=this._currentPath;return this._pathMap.has(e)||this._pathMap.set(e,[]),this._pathMap.get(e)}},{key:"getDrivingFlag",value:function(){var e=!1;switch(this._lockoutStatus){case p.DRIVING:e=!0;break;case p.NOT_DRIVING:e=!1}return e}},{key:"setToastContent",value:function(e){e&&"string"==typeof e&&""!==e&&(this._toastContent=e)}},{key:"show",value:function(){this._setLockout(!0)}},{key:"hide",value:function(){this._setLockout()}}],[{key:"applyLockoutMode",value:function(t,n){var o=t.condition;o.disable?e.setDisable(t,n):o.invisible&&e.setInvisible(t,n)}},{key:"setDisable",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setStyleByEnable(t,"opacity: 0.5",n)}},{key:"setInvisible",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setStyleByEnable(t,"display: none",n)}},{key:"setStyleByEnable",value:function(e,t,n){if(!e.element)return void console.warn("Lockout.setStyleByEnable element undefined",e.element);var o=void 0!==e.originStyle;if(n){var i=e.element,r=i.getAttribute("style")||"";o||(e.originStyle=i.getAttribute("style")||""),r===e.originStyle&&e.element.setAttribute("style",e.originStyle+";"+t)}else!n&&o&&(e.element.setAttribute("style",e.originStyle),e.originStyle=void 0)}}]),e}();t.default=y;var m=t.lockoutInstance=new y}])});
//# sourceMappingURL=obui.js.map