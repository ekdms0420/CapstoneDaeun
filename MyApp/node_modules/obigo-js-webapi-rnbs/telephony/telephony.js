!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(37),a=r(u),l=n(38),c=r(l),f=n(8),p=r(f),_=n(2),d=r(_),h=n(5),y=r(h);n(39),function(){var e=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),t}(a.default),t=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),t}(c.default),n={name:"telephony",start:function(r,o,i){function s(){l()}function u(e){y.default.utils.isFunc(i)?i(e):console.warn("["+n.name+"] close_callback is called")}function a(e){y.default.utils.isFunc(o)?o(e):console.error("["+n.name+"] error_callback is called")}function l(){d.default.info&&console.info("%c === Hello Telephony ===","color:dodgerblue");try{var o=new e,i=new t;window.navigator.telephony[o.me.category]=o,window.navigator.telephony[i.me.category]=i,y.default.conn.setConnection(n),r()}catch(e){console.error(e)}}return y.default.utils.isNotFunc(r)?(y.default.utils.isFunc(o)&&o((new p.default).setMessage("A function is required as a parameter").throw()),!1):void window.telephony.init(y.default.apps.getWidgetId(),s,u,a)}};window.navigator.telephony=n,n.isConnected=function(e){return e},n.version="1.1.1.3"}()},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e),this.me={}}return r(e,[{key:"getClass",value:function(){return this.constructor.name}},{key:"clone",value:function(){}},{key:"getBaseContext",value:function(){return this}},{key:"equals",value:function(e){return this instanceof e.constructor}}]),e}();t.default=o},function(e,t){"use strict";e.exports={debug:!0,info:!0,error:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(4),l=r(a),c=function(e){function t(e,n,r){o(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.me.domain=e,s.me.category=n,s.me.types=r,s}return s(t,e),u(t,[{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new window.Promise(function(r,o){var i=function(e){r(e)},s=function(e){o(e)};window[t.me.domain].get(e,n,i,s)})}},{key:"set",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new window.Promise(function(r,o){var i=function(e){r(e)},s=function(e){o(e)};window[t.me.domain].set(e,n,i,s)})}},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return window[this.me.domain].addListener(e,n,t)}},{key:"unsubscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return window[this.me.domain].removeListener(e,t,n)}},{key:"unsubscribeAll",value:function(e){}},{key:"getType",value:function(e){return this.me.category+"_"+e}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),l=r(a),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"getWebSocket",value:function(){}}]),t}(l.default);t.default=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default={name:"shared",apps:{getWidgetId:function(){var e=null;if(window.applicationFramework)if(window.applicationFramework.hasOwnProperty("applicationManager")){var t=window.applicationFramework.applicationManager.getOwnerApplication(window.document);e=t.getDescriptor().id}else console.log("window.applicationFramework does not have applicationManager");return e}},utils:{isNull:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===!0?null===e&&"object"===("undefined"==typeof e?"undefined":n(e)):null===e},isNotNull:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===!0?!(null===e&&"object"===("undefined"==typeof e?"undefined":n(e))):!(null===e)},isFunc:function(e){return"function"==typeof e},isNotFunc:function(e){return"function"!=typeof e}},conn:{setConnection:function(e){e.isConnected=function(){return 1===window[e.name].getWs().readyState}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(7),a=r(u),l=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),t}(a.default);t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),l=r(a),c=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.code=null,e.title=null,e.message=null,e}return s(t,e),u(t,[{key:"throw",value:function(){return{code:this.code,title:this.title,message:this.message}}},{key:"setMessage",value:function(e){return this.message=e,this}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),a=r(u),l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.code=400,n.title="UnmatchedParameterTypeError",n.message=e,n}return s(t,e),t}(a.default);t.default=l},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),a=r(u),l=function(e){function t(e,n){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"telephony",e,n))}return s(t,e),t}(a.default);t.default=l},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(11),l=r(a),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"callMgr",{MAKE_CALL:"makecall",HANG_UP:"hangup",DEVICE_PROPERTIES:"deviceProperties",HISTORY_LIST:"historyList",CALL_STATE:"callState"}))}return s(t,e),u(t,[{key:"makeCall",value:function(e){var t={};return"undefined"!=typeof e&&(t.toNumber=e),this.set(this.getType(this.me.types.MAKE_CALL),t)}},{key:"hangup",value:function(e){var t={};return"undefined"!=typeof e&&(t.callId=e),this.set(this.getType(this.me.types.HANG_UP),t)}},{key:"getHistory",value:function(e){return this.get(this.getType(this.me.types.HISTORY_LIST),e)}},{key:"addCallStateListener",value:function(e){return this.subscribe(this.getType(this.me.types.CALL_STATE),e,null)}},{key:"removeCallStateListener",value:function(e){return this.unsubscribe(this.getType(this.me.types.CALL_STATE),e)}},{key:"addDevicePropertiesChangeListener",value:function(e){return this.subscribe(this.getType(this.me.types.DEVICE_PROPERTIES),e,null)}},{key:"removeDevicePropertiesChangeListener",value:function(e){return this.unsubscribe(this.getType(this.me.types.DEVICE_PROPERTIES),e)}},{key:"CallMgrCallStateEnum",get:function(){return{TELEPHONY_CALLMGR_STATE_DIALING:0,TELEPHONY_CALLMGR_STATE_CONNECTING:1,TELEPHONY_CALLMGR_STATE_ALERTING:2,TELEPHONY_CALLMGR_STATE_RINGING:3,TELEPHONY_CALLMGR_STATE_ACTIVE:4,TELEPHONY_CALLMGR_STATE_CONFERENCE:5,TELEPHONY_CALLMGR_STATE_INCOMING:6,TELEPHONY_CALLMGR_STATE_WAITING:7,TELEPHONY_CALLMGR_STATE_ACCEPTED:8,TELEPHONY_CALLMGR_STATE_HELD:9,TELEPHONY_CALLMGR_STATE_DISCONNECTED:10,TELEPHONY_CALLMGR_STATE_HOLDING:11,TELEPHONY_CALLMGR_STATE_RESUMING:12,TELEPHONY_CALLMGR_STATE_REDIRECTING:13,TELEPHONY_CALLMGR_STATE_TRANSFERRING:14,TELEPHONY_CALLMGR_STATE_DISCONNECTING:15,TELEPHONY_CALLMGR_STATE_IDLE:16,TELEPHONY_CALLMGR_STATE_UNKNOWN:17}}},{key:"CallMgrDurationOperationEnum",get:function(){return{TELEPHONY_CALLMGR_DURATION_OPERATION_EQUAL:0,TELEPHONY_CALLMGR_DURATION_OPERATION_LESSTHAN:1,TELEPHONY_CALLMGR_DURATION_OPERATION_MORETHAN:2,TELEPHONY_CALLMGR_DURATION_OPERATION_LESSTHANOREQUAL:3,TELEPHONY_CALLMGR_DURATION_OPERATION_MORETHANOREQUAL:4}}},{key:"CallMgrDirectionEnum",get:function(){return{TELEPHONY_CALLMGR_DIRECTION_DIALED:0,TELEPHONY_CALLMGR_DIRECTION_RECEIVED:1,TELEPHONY_CALLMGR_DIRECTION_MISSED:2,TELEPHONY_CALLMGR_DIRECTION_COMBINED:3}}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(11),l=r(a),c=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"smsMgr",{SMS:"sms",SMS_SENT:"smsSent",SMS_RECEIVED:"smsReceived",SMS_DELIVERY_SUCCESS:"smsDeliverySuccess",SMS_DELIVERY_ERROR:"smsDeliveryError",SMS_READ:"readSms"}))}return s(t,e),u(t,[{key:"sendSms",value:function(e){return this.set(this.getType(this.me.types.SMS),e)}},{key:"getSms",value:function(e){return this.get(this.getType(this.me.types.SMS),e)}},{key:"readSms",value:function(e){return this.get(this.getType(this.me.types.SMS_READ),e)}},{key:"addSentListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.subscribe(this.getType(this.me.types.SMS_SENT),e,t)}},{key:"removeSentListener",value:function(e){return this.unsubscribe(this.getType(this.me.types.SMS_SENT),e)}},{key:"addReceivedListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.subscribe(this.getType(this.me.types.SMS_RECEIVED),e,t)}},{key:"removeReceivedListener",value:function(e){return this.unsubscribe(this.getType(this.me.types.SMS_RECEIVED),e)}},{key:"addDeliverySuccessListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.subscribe(this.getType(this.me.types.SMS_DELIVERY_SUCCESS),e,t)}},{key:"removeDeliverySuccessListener",value:function(e){return this.unsubscribe(this.getType(this.me.types.SMS_DELIVERY_SUCCESS),e)}},{key:"addDeliveryErrorListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.subscribe(this.getType(this.me.types.SMS_DELIVERY_ERROR),e,t)}},{key:"removeDeliveryErrorListener",value:function(e){return this.unsubscribe(this.getType(this.me.types.SMS_DELIVERY_ERROR),e)}},{key:"SmsMgrSmsStateEnum",get:function(){return{TELEPHONY_SMSMGR_SMS_STATE_RECEIVED:0,TELEPHONY_SMSMGR_SMS_STATE_SENDING:1,TELEPHONY_SMSMGR_SMS_STATE_SENT:2,TELEPHONY_SMSMGR_SMS_STATE_DELIVERED:3,TELEPHONY_SMSMGR_SMS_STATE_FAILED:4,TELEPHONY_SMSMGR_SMS_STATE_UNKOWN:5}}},{key:"SmsMgrSmsDeliveryStatusEnum",get:function(){return{TELEPHONY_SMSMGR_SMS_DELIVERY_STATUS_SUCCESS:0,TELEPHONY_SMSMGR_SMS_DELIVERY_STATUS_PENDING:1,TELEPHONY_SMSMGR_SMS_DELIVERY_STATUS_ERROR:2,TELEPHONY_SMSMGR_SMS_DELIVERY_STATUS_NOTAPPLICABLE:3}}},{key:"SmsMgrSortEnum",get:function(){return{TELEPHONY_SMSMGR_SORTBY_FIRSTNAME:0,TELEPHONY_SMSMGR_SORTBY_LASTNAME:1,TELEPHONY_SMSMGR_SORTBY_ADDRESS:2,TELEPHONY_SMSMGR_SORTBY_EMAIL:3,TELEPHONY_SMSMGR_SORTBY_NUMBER:4,TELEPHONY_SMSMGR_SORTBY_CATEGORY:5,TELEPHONY_SMSMGR_SORTBY_TIMESTAMP:6,TELEPHONY_SMSMGR_SORTBY_FINISHED:7}}}]),t}(l.default);t.default=c},function(e,t){"use strict";var n={};n.ParseError=-32700,n.InvalidRequest=-32600,n.MethodNotFound=-32601,n.InvalidParams=-32602,n.InternalError=-32603,n.AccessError=-32604,n.DuplicateListener=-32605,n.ServiceError=-32e3,n.UnknownError=-32001,n.DbusError=-32002,n.EtchError=-32003,n.PbError=-32004,n.ServerError=-32099;var r={};r.Unknown=11,r.MethodNotFound=12,r.AccessUndetermined=20,r.AccessDeny=21,r.AccessPromptOneShot=22,r.AccessPromptSession=23,r.AccessPromptBlanket=24,r.JsonParsingError=30,r.JsonMessageValidateError=31,r.JsonVersionError=40,r.JsonMessageIdNotExistError=41,r.JsonMessageObjectNameNotExistError=42,r.JsonFunctionTypeError=43,r.JsonMessageFormateError=44,r.JsonFunctionEventTypeNotExistError=45,r.JsonFunctionMethodNotExistError=46,r.JsonFunctionIdNotExistError=47,r.DuplicateAddlistenerError=55,r.RegFailedAddlistenerError=56,r.MessageIdDismatch=60,r.MessageObjectDismatch=61,r.MessageUnknownEventType=62,r.MessageUnknownMethodType=63,r.MessageUnregListener=64,r.InvalidParams=70,r.ServiceNotAvailable=80,r.ServiceNoResponse=81,r.ServiceUnknownValue=82,r.SendError=90,r.CloseError=91,r.DbusCanNotCreateConnection=100,r.DbusCanNotCreateProxy=101,r.DbusUnknownService=102,r.DbusMethodCallFailed=103,r.EtchPortBindingFailed=120,r.PbOutOfRange=140,r.PbInvalidArgument=141,r.PbMissMandatory=142,r.PbNullException=143,r.PbBadAllocException=144,r.PbOutOfRangeException=145;var o={};o.PromptOneShotDenyAlways=350,o.PromptOneShotDenyThisTime=351,o.PromptOneShotDenyAllowThisTime=352,o.PromptSessionDenyForThisSession=353,o.PromptSessionAllowForThisSession=354,o.PromptBlanketDenyForThisSession=355,o.PromptBlanketAllowForThisSession=356,o.PromptBlanketAllowAlways=357;var i=function(){this.direction=null,this.deviceHandle=null};window.CallMgrOptionData=i;var s=function(){this.options=null,this.count=null};window.CallMgrHistoryGetData=s;var u=function(){this.deviceHandle=null,this.messagId=null,this.listId=null,this.from=null,this.timestamp=null,this.read=null,this.to=null,this.body=null,this.state=null,this.deliveryStatus=null,this.deliveryTimestamp=null};window.SmsMgrSmsData=u;var a=function(){this.deviceHandle=null,this.sortBy=null};window.SmsMgrOptionData=a;var l=function(){this.options=null,this.count=null};window.SmsMgrSmsGetData=l;var c=function(){this.deviceHandle=null,this.messageId=null,this.listId=null};window.SmsMgrReadSmsGetData=c,function(){var e="telephony",t=1002,o=1003,i=1004,a=1005,f={jsonrpc:2,app_id:null,id:null,method:""},p=null,_=null,d={lst:{},push:function(e,t,n,r){var o={};return o.id=window.performance.now().toString(),o.type=e,o.method=t,o.handle1=n,o.handle2=r,this.lst[o.id]=o,o.id},pop:function(e){var t=this.lst[e];return t&&delete this.lst[e],t},clear:function(){return!Object.keys(this.lst={}).length}},h={lst:{},push:function(e,t){t&&(this.lst[e]?this.lst[e].push(t):this.lst[e]=[t])},pop:function(e,t){if(t){var n=this.lst[e];if(n)for(var r=0;r<n.length;r++)if(n[r]===t)return n.splice(r,1),void(0===n.length&&(this.lst[e]=void 0))}},get:function(e){return this.lst[e]},clear:function(){this.lst={}}},y=function(e,t){null!==e&&e(t)},E={msg_type:0,method_type:"",event_type:null,json:"",init:function(e){this.json=JSON.parse(e);var n=null,r=null,s=null,u=null;try{n=this.json.result}catch(e){console.log(e)}try{r=this.json.id}catch(e){console.log(e)}try{s=this.json.error}catch(e){console.log(e)}try{u=this.json.app_id}catch(e){console.log(e)}s?this.msg_type=a:r?this.msg_type=t:u?this.msg_type=o:this.msg_type=i;var l=this.json.method.split(".");l.length;3===l.length?(this.method_type=l[1],this.event_type=l[2]):2===l.length&&(this.method_type="get",this.event_type=l[1]),this.msg_type===i||"addListener"!==this.method_type&&"removeListener"!==this.method_type||(this.msg_type=o)}},S=function(){var n=new WebSocket("ws://localhost:18892/webapp/"+e);return n.onmessage=function(e){var n=E;if(n.init(e.data),n.msg_type===t){var r=d.pop(n.json.id);r&&r.handle1&&r.handle1(n.json.result)}else if(n.msg_type===a){var s=d.pop(n.json.id);s&&s.handle2&&s.handle2(n.json.error)}else if(n.msg_type===o){if("addListener"===n.method_type){var u=h.get(n.event_type);for(var l in u)"undefined"!=typeof n.json.result?u[l](n.json.result):"undefined"!=typeof n.json.error?u[l](n.json.error):console.log("undefine result")}}else n.msg_type===i?p&&p(n.json.result):console.log("unknown json message")},n.send_data=function(e,t){return 1===_.readyState&&(t?e.params=t:e.params&&delete e.params,_.send(JSON.stringify(e)),!0)},n},m={callMgr_makecall:"callMgr_makecall",callMgr_deviceProperties:"callMgr_deviceProperties",callMgr_callState:"callMgr_callState",callMgr_historyList:"callMgr_historyList",callMgr_hangup:"callMgr_hangup",smsMgr_sms:"smsMgr_sms",smsMgr_smsSent:"smsMgr_smsSent",smsMgr_smsReceived:"smsMgr_smsReceived",smsMgr_smsDeliverySuccess:"smsMgr_smsDeliverySuccess",smsMgr_smsDeliveryError:"smsMgr_smsDeliveryError",smsMgr_readSms:"smsMgr_readSms",get:function(t,o,i,u){if(t===this.callMgr_historyList&&o){if(o instanceof s==!1)return y(u,{code:n.InvalidParams,reason:r.InvalidParams,message:"Invalid params"}),!1}else if(t===this.smsMgr_sms&&o){if(o instanceof l==!1)return y(u,{code:n.InvalidParams,reason:r.InvalidParams,message:"Invalid params"}),!1}else if(t===this.smsMgr_readSms&&o&&o instanceof c==!1)return y(u,{code:n.InvalidParams,reason:r.InvalidParams,message:"Invalid params"}),!1;var a=f;return null===i?a.id=window.performance.now().toString():a.id=d.push(t,"get",i,u),a.method=e+".get."+t,_.send_data(a,o)},set:function(t,o,i,s){if(t===this.smsMgr_sms&&o&&o instanceof u==!1)return y(s,{code:n.InvalidParams,reason:r.InvalidParams,message:"Invalid params"}),!1;var a=f;return null===i?a.id=window.performance.now().toString():a.id=d.push(t,"set",i,s),a.method=e+".set."+t,_.send_data(a,o)},query:function(t,n,r,o){var i=f;return null===r?i.id=window.performance.now().toString():i.id=d.push(t,"query",r,o),i.method=e+".query."+t,_.send_data(i,n)},addListener:function(t,n,r){if(r){h.push(t,r);var o=h.get(t);if(o&&1===o.length){var i=f;return i.method=e+".addListener."+t,_.send_data(i,n)}return!0}return!1},removeListener:function(t,n){if(n){if(h.pop(t,n),h.get(t))return!0;var r=f;return r.method=e+".removeListener."+t,_.send_data(r,null)}return!1},init:function(e,t,n,r){_=S(),e&&(f.app_id=e),t&&(_.onopen=t),n&&(_.onclose=n),r&&(p=r)},reset:function(e,t,n,r){_.close(),d.clear(),h.clear(),_=S(),e&&(f.app_id=e),t&&(_.onopen=t),n&&(_.onclose=n),r&&(p=r)},getWs:function(){return _},clearCallback:function(e){switch(e){case"all":return d.clear();default:return-1}},version:function(){return"1.1.1.1"}};window.telephony=m}()}]);