!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(15),a=o(u),l=n(17),c=o(l),f=n(16),p=o(f),d=n(8),h=o(d),y=n(2),_=o(y),b=n(5),m=o(b);n(18),function(){var e=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(a.default),t=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(p.default),n=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),t}(c.default),o={name:"lbs",start:function(r,i,s){function u(){c()}function a(e){m.default.utils.isFunc(s)?s(e):console.warn("["+o.name+"] close_callback is called")}function l(e){m.default.utils.isFunc(i)?i(e):console.error("["+o.name+"] error_callback is called")}function c(){_.default.info&&console.info("%c === Hello LBS ===","color:dodgerblue");try{var i=new e,s=new n,u=new t;o[i.me.category]=i,o[s.me.category]=s,o[u.me.category]=u,m.default.conn.setConnection(o),r(o)}catch(e){console.error(e)}}return m.default.utils.isNotFunc(r)?(m.default.utils.isFunc(i)&&i((new h.default).setMessage("A function is required as a parameter").throw()),!1):void window.lbs.init(m.default.apps.getWidgetId(),u,a,l)}};window.navigator.lbs=o,o.isConnected=function(e){return e},o.version="1.1.1.2"}()},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(){n(this,e),this.me={}}return o(e,[{key:"getClass",value:function(){return this.constructor.name}},{key:"clone",value:function(){}},{key:"getBaseContext",value:function(){return this}},{key:"equals",value:function(e){return this instanceof e.constructor}}]),e}();t.default=r},function(e,t){"use strict";e.exports={debug:!0,info:!0,error:!0}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(4),l=o(a),c=function(e){function t(e,n,o){r(this,t);var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.me.domain=e,s.me.category=n,s.me.types=o,s}return s(t,e),u(t,[{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new window.Promise(function(o,r){var i=function(e){o(e)},s=function(e){r(e)};window[t.me.domain].get(e,n,i,s)})}},{key:"set",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new window.Promise(function(o,r){var i=function(e){o(e)},s=function(e){r(e)};window[t.me.domain].set(e,n,i,s)})}},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return window[this.me.domain].addListener(e,n,t)}},{key:"unsubscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return window[this.me.domain].removeListener(e,t,n)}},{key:"unsubscribeAll",value:function(e){}},{key:"getType",value:function(e){return this.me.category+"_"+e}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),l=o(a),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"getWebSocket",value:function(){}}]),t}(l.default);t.default=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default={name:"shared",apps:{getWidgetId:function(){var e=null;if(window.applicationFramework)if(window.applicationFramework.hasOwnProperty("applicationManager")){var t=window.applicationFramework.applicationManager.getOwnerApplication(window.document);e=t.getDescriptor().id}else console.log("window.applicationFramework does not have applicationManager");return e}},utils:{isNull:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===!0?null===e&&"object"===("undefined"==typeof e?"undefined":n(e)):null===e},isNotNull:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t===!0?!(null===e&&"object"===("undefined"==typeof e?"undefined":n(e))):!(null===e)},isFunc:function(e){return"function"==typeof e},isNotFunc:function(e){return"function"!=typeof e}},conn:{setConnection:function(e){e.isConnected=function(){return 1===window[e.name].getWs().readyState}}}}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(7),a=o(u),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return s(t,e),t}(a.default);t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),l=o(a),c=function(e){function t(){r(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.code=null,e.title=null,e.message=null,e}return s(t,e),u(t,[{key:"throw",value:function(){return{code:this.code,title:this.title,message:this.message}}},{key:"setMessage",value:function(e){return this.message=e,this}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),a=o(u),l=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.code=400,n.title="UnmatchedParameterTypeError",n.message=e,n}return s(t,e),t}(a.default);t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(3),a=o(u),l=function(e){function t(e,n){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"lbs",e,n))}return s(t,e),t}(a.default);t.default=l},,,,,,function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(9),l=o(a),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"address",{FROM_LOCATION_NAME:"fromLocationName",FROM_LOCATION:"fromLocation",FROM_COORDINATES:"fromCoordinates"}))}return s(t,e),u(t,[{key:"getFromLocationName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.get(this.getType(this.me.types.FROM_LOCATION_NAME),e)}},{key:"getFromLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.get(this.getType(this.me.types.FROM_LOCATION),e)}},{key:"getFromCoordinates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.get(this.getType(this.me.types.FROM_COORDINATES),e)}},{key:"_Address",value:function(e,t,n,o,r,i,s,u,a){return this.addressLine=e,this.adminArea=t,this.countryCode=n,this.countryName=o,this.featureName=r,this.latitude=i,this.longitude=s,this.postalCode=u,this.locality=a,this}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(9),l=o(a),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"geolocation",{LAST_COUNTRY_CODE:"lastCountryCode",PROXIMITY_ALERT:"proximityAlert",LAST_KNOWN_LOCATION:"lastKnownLocation",CURRENT_POSITION:"currentPosition"}))}return s(t,e),u(t,[{key:"_Location",value:function(e,t,n,o,r,i,s,u,a){this.accuracy=e,this.altitude=t,this.bearing=n,this.elapseRealtime=o,this.latitude=r,this.longitude=i,this.provider=s,this.speed=u,this.time=a}},{key:"getLastCountryCode",value:function(){return this.get(this.getType(this.me.types.LAST_COUNTRY_CODE))}},{key:"addProximityAlertListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.subscribe(this.getType(this.me.types.PROXIMITY_ALERT),e,t)}},{key:"removeProximityAlertListener",value:function(e){return this.unsubscribe(this.getType(this.me.types.PROXIMITY_ALERT),e)}},{key:"getLastKnownLocation",value:function(){return this.get(this.getType(this.me.types.LAST_KNOWN_LOCATION))}},{key:"getCurrentPosition",value:function(){return this.get(this.getType(this.me.types.CURRENT_POSITION))}},{key:"addCurrentPositionListener",value:function(e){return this.subscribe(this.getType(this.me.types.CURRENT_POSITION),e)}},{key:"removeCurrentPositionListener",value:function(e){return this.unsubscribe(this.getType(this.me.types.CURRENT_POSITION),e)}}]),t}(l.default);t.default=c},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(9),l=o(a),c=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"gpsStatus",{TIME_TO_FIRST_FIX:"timeToFirstFix",RECEIVER_CHANNEL_COUNT:"receiverChannelCount",USED_SATELLITE_COUNT:"usedSatelliteCount",VISIBLE_SATELLITE_COUNT:"visibleSatelliteCount",RECEIVED_SATELLITE_COUNT:"receivedSatelliteCount"}))}return s(t,e),u(t,[{key:"getReceiverChannelCount",value:function(){return this.get(this.getType(this.me.types.RECEIVER_CHANNEL_COUNT))}},{key:"getUsedSatelliteCount",value:function(){return this.get(this.getType(this.me.types.USED_SATELLITE_COUNT))}},{key:"getVisibleSatelliteCount",value:function(){return this.get(this.getType(this.me.types.VISIBLE_SATELLITE_COUNT))}},{key:"getReceivedSatelliteCount",value:function(){return this.get(this.getType(this.me.types.RECEIVED_SATELLITE_COUNT))}},{key:"_GpsSatellite",value:function(){return this.azimuth,this.elevation,this.prn,this.snr,this.hasAlmanac,this.hasEphemeris,this.usedInFix,this}}]),t}(l.default);t.default=c},function(e,t){"use strict";var n={};n.ParseError=-32700,n.InvalidRequest=-32600,n.MethodNotFound=-32601,n.InvalidParams=-32602,n.InternalError=-32603,n.AccessError=-32604,n.DuplicateListener=-32605,n.ServiceError=-32e3,n.UnknownError=-32001,n.DbusError=-32002,n.EtchError=-32003,n.PbError=-32004,n.ServerError=-32099;var o={};o.Unknown=11,o.MethodNotFound=12,o.AccessUndetermined=20,o.AccessDeny=21,o.AccessPromptOneShot=22,o.AccessPromptSession=23,o.AccessPromptBlanket=24,o.JsonParsingError=30,o.JsonMessageValidateError=31,o.JsonVersionError=40,o.JsonMessageIdNotExistError=41,o.JsonMessageObjectNameNotExistError=42,o.JsonFunctionTypeError=43,o.JsonMessageFormateError=44,o.JsonFunctionEventTypeNotExistError=45,o.JsonFunctionMethodNotExistError=46,o.JsonFunctionIdNotExistError=47,o.DuplicateAddlistenerError=55,o.RegFailedAddlistenerError=56,o.MessageIdDismatch=60,o.MessageObjectDismatch=61,o.MessageUnknownEventType=62,o.MessageUnknownMethodType=63,o.MessageUnregListener=64,o.InvalidParams=70,o.ServiceNotAvailable=80,o.ServiceNoResponse=81,o.ServiceUnknownValue=82,o.SendError=90,o.CloseError=91,o.DbusCanNotCreateConnection=100,o.DbusCanNotCreateProxy=101,o.DbusUnknownService=102,o.DbusMethodCallFailed=103,o.EtchPortBindingFailed=120,o.PbOutOfRange=140,o.PbInvalidArgument=141,o.PbMissMandatory=142,o.PbNullException=143,o.PbBadAllocException=144,o.PbOutOfRangeException=145;var r={};r.PromptOneShotDenyAlways=350,r.PromptOneShotDenyThisTime=351,r.PromptOneShotDenyAllowThisTime=352,r.PromptSessionDenyForThisSession=353,r.PromptSessionAllowForThisSession=354,r.PromptBlanketDenyForThisSession=355,r.PromptBlanketAllowForThisSession=356,r.PromptBlanketAllowAlways=357;var i=function(){this.maxResult=null,this.locationName=null};window.AddressFromLocationNameData=i;var s=function(){this.latitude=null,this.longitude=null,this.radiusM=null};window.AddressFromLocationData=s;var u=function(){this.locationName=null,this.lowerLeftLatitude=null,this.lowerLeftLongitude=null,this.upperRightLatitude=null,this.upperRightLongitude=null};window.AddressFromCoordinatesData=u;var a=function(){this.latitude=null,this.longitude=null,this.radius=null};window.GeolocationProximityAlertData=a,function(){var e="lbs",t=1002,r=1003,l=1004,c=1005,f={jsonrpc:2,app_id:null,id:null,method:""},p=null,d=null,h={lst:{},push:function(e,t,n,o){var r={};return r.id=window.performance.now().toString(),r.type=e,r.method=t,r.handle1=n,r.handle2=o,this.lst[r.id]=r,r.id},pop:function(e){var t=this.lst[e];return t&&delete this.lst[e],t},clear:function(){return!Object.keys(this.lst={}).length}},y={lst:{},push:function(e,t){t&&(this.lst[e]?this.lst[e].push(t):this.lst[e]=[t])},pop:function(e,t){if(t){var n=this.lst[e];if(n)for(var o=0;o<n.length;o++)if(n[o]===t)return n.splice(o,1),void(0===n.length&&(this.lst[e]=void 0))}},get:function(e){return this.lst[e]},clear:function(){this.lst={}}},_=function(e,t){null!==e&&e(t)},b={msg_type:0,method_type:"",event_type:null,json:"",init:function(e){this.json=JSON.parse(e);var n=null,o=null,i=null,s=null;try{n=this.json.result}catch(e){console.log(e)}try{o=this.json.id}catch(e){console.log(e)}try{i=this.json.error}catch(e){console.log(e)}try{s=this.json.app_id}catch(e){console.log(e)}i?this.msg_type=c:o?this.msg_type=t:s?this.msg_type=r:this.msg_type=l;var u=this.json.method.split(".");u.length;3===u.length?(this.method_type=u[1],this.event_type=u[2]):2===u.length&&(this.method_type="get",this.event_type=u[1]),this.msg_type===l||"addListener"!==this.method_type&&"removeListener"!==this.method_type||(this.msg_type=r)}},m=function(){var n=new WebSocket("ws://localhost:18892/webapp/"+e);return n.onmessage=function(e){var n=b;if(n.init(e.data),n.msg_type===t){var o=h.pop(n.json.id);o&&o.handle1&&o.handle1(n.json.result)}else if(n.msg_type===c){var i=h.pop(n.json.id);i&&i.handle2&&i.handle2(n.json.error)}else if(n.msg_type===r){if("addListener"===n.method_type){var s=y.get(n.event_type);for(var u in s)"undefined"!=typeof n.json.result?s[u](n.json.result):"undefined"!=typeof n.json.error?s[u](n.json.error):console.log("undefine result")}}else n.msg_type===l?p&&p(n.json.result):console.log("unknown json message")},n.send_data=function(e,t){return 1===d.readyState&&(t?e.params=t:e.params&&delete e.params,d.send(JSON.stringify(e)),!0)},n},g={address_fromLocationName:"address_fromLocationName",address_fromLocation:"address_fromLocation",address_fromCoordinates:"address_fromCoordinates",geolocation_lastCountryCode:"geolocation_lastCountryCode",gpsStatus_receiverChannelCount:"gpsStatus_receiverChannelCount",gpsStatus_usedSatelliteCount:"gpsStatus_usedSatelliteCount",gpsStatus_visibleSatelliteCount:"gpsStatus_visibleSatelliteCount",gpsStatus_receivedSatelliteCount:"gpsStatus_receivedSatelliteCount",gpsStatus_timeToFirstFix:"gpsStatus_timeToFirstFix",geolocation_proximityAlert:"geolocation_proximityAlert",geolocation_lastKnownLocation:"geolocation_lastKnownLocation",geolocation_currentPosition:"geolocation_currentPosition",get:function(t,r,a,l){if(t===this.address_fromLocationName&&r){if(r instanceof i==!1)return _(l,{code:n.InvalidParams,reason:o.InvalidParams,message:"Invalid params"}),!1}else if(t===this.address_fromLocation&&r){if(r instanceof s==!1)return _(l,{code:n.InvalidParams,reason:o.InvalidParams,message:"Invalid params"}),!1}else if(t===this.address_fromCoordinates&&r&&r instanceof u==!1)return _(l,{code:n.InvalidParams,reason:o.InvalidParams,message:"Invalid params"}),!1;var c=f;return null===a?c.id=window.performance.now().toString():c.id=h.push(t,"get",a,l),c.method=e+".get."+t,d.send_data(c,r)},set:function(t,n,o,r){var i=f;return null===o?i.id=window.performance.now().toString():i.id=h.push(t,"set",o,r),i.method=e+".set."+t,d.send_data(i,n)},query:function(t,n,o,r){var i=f;return null===o?i.id=window.performance.now().toString():i.id=h.push(t,"query",o,r),i.method=e+".query."+t,d.send_data(i,n)},addListener:function(t,r,i){if(t===this.geolocation_proximityAlert&&r&&r instanceof a==!1)return _(i,{code:n.InvalidParams,reason:o.InvalidParams,message:"Invalid params"}),!1;if(i){y.push(t,i);var s=y.get(t);if(s&&1===s.length){var u=f;return u.method=e+".addListener."+t,d.send_data(u,r)}return!0}return!1},removeListener:function(t,n){if(n){if(y.pop(t,n),y.get(t))return!0;var o=f;return o.method=e+".removeListener."+t,d.send_data(o,null)}return!1},init:function(e,t,n,o){d=m(),e&&(f.app_id=e),t&&(d.onopen=t),n&&(d.onclose=n),o&&(p=o)},reset:function(e,t,n,o){d.close(),h.clear(),y.clear(),d=m(),e&&(f.app_id=e),t&&(d.onopen=t),n&&(d.onclose=n),o&&(p=o)},getWs:function(){return d},clearCallback:function(e){switch(e){case"all":return h.clear();default:return-1}},version:function(){return"1.1.1.1"}};window.lbs=g}()}]);